<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <title>REMEEX - Verificaci√≥n de Identidad</title>
  <link rel="icon" href="https://cdn-icons-png.flaticon.com/512/6404/6404078.png" type="image/png">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;500;600;700&family=Inter:wght@400;500;600&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.5/gsap.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/webcam-easy/dist/webcam-easy.min.js"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/18.1.6/css/intlTelInput.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/18.1.6/js/intlTelInput.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/lottie-web/5.12.2/lottie.min.js"></script>
  <style>
    :root {
      /* Color Palette - Modern and Professional */
      --primary: #0085FF;
      --primary-dark: #0063CC;
      --primary-light: #66B5FF;
      --primary-ultralight: #EBF5FF;
      --secondary: #FFFFFF;
      --accent: #FF5630;
      --accent-2: #36B37E;
      --accent-3: #6554C0;
      --success: #00C897;
      --success-light: #E2FFF8;
      --danger: #FF4757;
      --danger-light: #FFEAEC;
      --warning: #FFAB00;
      --warning-light: #FFF6E5;
      --info: #00B8D9;
      --info-light: #E5F7FF;
      
      /* Neutrals - Refined */
      --neutral-50: #FAFBFC;
      --neutral-100: #F4F5F7;
      --neutral-200: #EBECF0;
      --neutral-300: #DFE1E6;
      --neutral-400: #C1C7D0;
      --neutral-500: #97A0AF;
      --neutral-600: #7A869A;
      --neutral-700: #42526E;
      --neutral-800: #253858;
      --neutral-900: #091E42;
      
      /* Shadows - Enhanced */
      --shadow-sm: 0 2px 4px rgba(9,30,66,0.05);
      --shadow-md: 0 4px 8px rgba(9,30,66,0.08);
      --shadow-lg: 0 8px 16px rgba(9,30,66,0.10);
      --shadow-xl: 0 16px 32px rgba(9,30,66,0.14);
      --shadow-card: 0 1px 2px rgba(9,30,66,0.08), 0 4px 15px rgba(9,30,66,0.06);
      --shadow-button: 0 3px 6px rgba(0,133,255,0.15);
      --shadow-button-hover: 0 8px 15px rgba(0,133,255,0.25);
      --shadow-focus: 0 0 0 3px rgba(0,133,255,0.25);
      
      /* Border Radius - Refined */
      --radius-sm: 6px;
      --radius-md: 8px;
      --radius-lg: 12px;
      --radius-xl: 16px;
      --radius-xxl: 24px;
      --radius-full: 9999px;
      
      /* Spacing - Consistent */
      --space-1: 4px;
      --space-2: 8px;
      --space-3: 12px;
      --space-4: 16px;
      --space-5: 20px;
      --space-6: 24px;
      --space-8: 32px;
      --space-10: 40px;
      --space-12: 48px;
      --space-16: 64px;
      --space-20: 80px;
      
      /* Layout */
      --header-height: 70px;
      --max-content-width: 1200px;
      
      /* Transitions - Refined */
      --transition-fast: 150ms cubic-bezier(0.4, 0, 0.2, 1);
      --transition-base: 200ms cubic-bezier(0.4, 0, 0.2, 1);
      --transition-bounce: 350ms cubic-bezier(0.34, 1.56, 0.64, 1);
      --transition-spring: 500ms cubic-bezier(0.18, 1.25, 0.4, 1);
      
      /* Typography */
      --font-base: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
      --font-heading: 'Plus Jakarta Sans', sans-serif;
    }
    
    /* Reset & Base */
    *, *::before, *::after {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    
    html {
      font-size: 16px;
      scroll-behavior: smooth;
    }
    
    body {
      font-family: var(--font-base);
      color: var(--neutral-800);
      background: var(--neutral-100);
      line-height: 1.5;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
      overflow-x: hidden;
      min-height: 100vh;
      padding-top: var(--header-height);
    }
    
    h1, h2, h3, h4, h5, h6 {
      font-family: var(--font-heading);
      color: var(--neutral-900);
      font-weight: 600;
      line-height: 1.3;
    }
    
    img, svg {
      max-width: 100%;
      height: auto;
    }
    
    a {
      color: var(--primary);
      text-decoration: none;
      transition: var(--transition-base);
    }
    
    a:hover {
      color: var(--primary-dark);
    }
    
    /* Utilities */
    .container {
      width: 100%;
      max-width: var(--max-content-width);
      margin: 0 auto;
      padding: 0 var(--space-4);
    }
    
    .flex {
      display: flex;
    }
    
    .flex-col {
      flex-direction: column;
    }
    
    .items-center {
      align-items: center;
    }
    
    .items-start {
      align-items: flex-start;
    }
    
    .justify-between {
      justify-content: space-between;
    }
    
    .justify-center {
      justify-content: center;
    }
    
    .text-center {
      text-align: center;
    }
    
    .mt-1 { margin-top: var(--space-1); }
    .mt-2 { margin-top: var(--space-2); }
    .mt-3 { margin-top: var(--space-3); }
    .mt-4 { margin-top: var(--space-4); }
    .mt-6 { margin-top: var(--space-6); }
    .mt-8 { margin-top: var(--space-8); }
    .mb-1 { margin-bottom: var(--space-1); }
    .mb-2 { margin-bottom: var(--space-2); }
    .mb-3 { margin-bottom: var(--space-3); }
    .mb-4 { margin-bottom: var(--space-4); }
    .mb-6 { margin-bottom: var(--space-6); }
    .mb-8 { margin-bottom: var(--space-8); }
    .mx-auto { margin-left: auto; margin-right: auto; }
    
    .p-4 { padding: var(--space-4); }
    .p-6 { padding: var(--space-6); }
    .py-2 { padding-top: var(--space-2); padding-bottom: var(--space-2); }
    .py-4 { padding-top: var(--space-4); padding-bottom: var(--space-4); }
    .px-4 { padding-left: var(--space-4); padding-right: var(--space-4); }
    
    .gap-1 { gap: var(--space-1); }
    .gap-2 { gap: var(--space-2); }
    .gap-3 { gap: var(--space-3); }
    .gap-4 { gap: var(--space-4); }
    .gap-6 { gap: var(--space-6); }
    
    .w-full { width: 100%; }
    .h-full { height: 100%; }
    
    .rounded-sm { border-radius: var(--radius-sm); }
    .rounded-md { border-radius: var(--radius-md); }
    .rounded-lg { border-radius: var(--radius-lg); }
    .rounded-xl { border-radius: var(--radius-xl); }
    .rounded-xxl { border-radius: var(--radius-xxl); }
    .rounded-full { border-radius: var(--radius-full); }
    
    .shadow-sm { box-shadow: var(--shadow-sm); }
    .shadow-md { box-shadow: var(--shadow-md); }
    .shadow-lg { box-shadow: var(--shadow-lg); }
    .shadow-card { box-shadow: var(--shadow-card); }
    
    .bg-white { background-color: var(--secondary); }
    .bg-primary { background-color: var(--primary); }
    .bg-primary-light { background-color: var(--primary-light); }
    .bg-primary-ultralight { background-color: var(--primary-ultralight); }
    .bg-success { background-color: var(--success); }
    .bg-success-light { background-color: var(--success-light); }
    .bg-danger { background-color: var(--danger); }
    .bg-danger-light { background-color: var(--danger-light); }
    .bg-warning { background-color: var(--warning); }
    .bg-warning-light { background-color: var(--warning-light); }
    .bg-info { background-color: var(--info); }
    .bg-info-light { background-color: var(--info-light); }
    .bg-neutral-50 { background-color: var(--neutral-50); }
    .bg-neutral-100 { background-color: var(--neutral-100); }
    
    .text-white { color: var(--secondary); }
    .text-primary { color: var(--primary); }
    .text-success { color: var(--success); }
    .text-danger { color: var(--danger); }
    .text-warning { color: var(--warning); }
    .text-info { color: var(--info); }
    .text-neutral-500 { color: var(--neutral-500); }
    .text-neutral-600 { color: var(--neutral-600); }
    .text-neutral-700 { color: var(--neutral-700); }
    .text-neutral-900 { color: var(--neutral-900); }
    
    .text-xs { font-size: 0.75rem; }
    .text-sm { font-size: 0.875rem; }
    .text-md { font-size: 1rem; }
    .text-lg { font-size: 1.125rem; }
    .text-xl { font-size: 1.25rem; }
    .text-2xl { font-size: 1.5rem; }
    .text-3xl { font-size: 1.875rem; }
    
    .font-medium { font-weight: 500; }
    .font-semibold { font-weight: 600; }
    .font-bold { font-weight: 700; }
    
    .hidden { display: none; }
    .block { display: block; }
    
    /* Header */
    .header {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      height: var(--header-height);
      background: var(--secondary);
      box-shadow: var(--shadow-card);
      z-index: 1000;
      transition: all 0.3s ease;
      backdrop-filter: blur(8px);
      -webkit-backdrop-filter: blur(8px);
    }
    
    .header-container {
      display: flex;
      align-items: center;
      justify-content: space-between;
      height: 100%;
      max-width: var(--max-content-width);
      margin: 0 auto;
      padding: 0 var(--space-4);
    }
    
    .logo {
      height: 36px;
      width: auto;
      transition: transform 0.3s ease;
    }
    
    .logo:hover {
      transform: scale(1.05);
    }
    
    .header-actions {
      display: flex;
      align-items: center;
      gap: var(--space-3);
    }
    
    .header-btn {
      width: 40px;
      height: 40px;
      display: flex;
      align-items: center;
      justify-content: center;
      border-radius: var(--radius-full);
      background: var(--primary-ultralight);
      color: var(--primary);
      border: none;
      cursor: pointer;
      transition: var(--transition-bounce);
    }
    
    .header-btn:hover {
      background: var(--primary);
      color: var(--secondary);
      transform: translateY(-2px);
      box-shadow: var(--shadow-button-hover);
    }
    
    .home-btn {
      display: flex;
      align-items: center;
      height: 40px;
      padding: 0 var(--space-4);
      background: var(--primary);
      color: white;
      border-radius: var(--radius-md);
      font-weight: 500;
      font-size: 0.875rem;
      transition: var(--transition-bounce);
      text-decoration: none;
      box-shadow: var(--shadow-button);
    }
    
    .home-btn:hover {
      background: var(--primary-dark);
      color: white;
      transform: translateY(-2px);
      box-shadow: var(--shadow-button-hover);
    }
    
    .home-btn i {
      margin-right: var(--space-2);
    }
    
    /* Contenedores principales */
    .auth-container {
      min-height: calc(100vh - var(--header-height));
      display: flex;
      align-items: center;
      justify-content: center;
      padding: var(--space-6) var(--space-4);
      background: linear-gradient(135deg, var(--primary-ultralight) 0%, var(--neutral-50) 100%);
    }
    
    .auth-card {
      width: 100%;
      max-width: 480px;
      background: var(--secondary);
      border-radius: var(--radius-xl);
      box-shadow: var(--shadow-card);
      overflow: hidden;
      border: 1px solid var(--neutral-200);
      transition: transform 0.3s ease, box-shadow 0.3s ease;
    }
    
    .auth-card:hover {
      transform: translateY(-5px);
      box-shadow: var(--shadow-lg);
    }
    
    .main-container {
      max-width: var(--max-content-width);
      margin: 0 auto;
      padding: var(--space-8) var(--space-4);
      background: linear-gradient(135deg, var(--primary-ultralight) 0%, var(--neutral-50) 100%);
      min-height: calc(100vh - var(--header-height));
    }
    
    /* Logo y cabecera de login */
    .auth-header {
      text-align: center;
      padding: var(--space-8) var(--space-6) var(--space-4);
    }
    
    .auth-logo {
      width: 80px;
      height: 80px;
      background: var(--primary);
      border-radius: var(--radius-full);
      display: flex;
      align-items: center;
      justify-content: center;
      margin: 0 auto var(--space-6);
      box-shadow: var(--shadow-lg);
      transition: transform 0.3s ease, box-shadow 0.3s ease;
      position: relative;
      overflow: hidden;
    }
    
    .auth-logo::after {
      content: '';
      position: absolute;
      width: 150%;
      height: 150%;
      background: radial-gradient(circle, rgba(255,255,255,0.8) 0%, rgba(255,255,255,0) 70%);
      top: -25%;
      left: -25%;
      opacity: 0;
      transition: opacity 0.5s ease;
    }
    
    .auth-logo:hover {
      transform: rotate(5deg) scale(1.05);
      box-shadow: 0 15px 25px rgba(0,133,255,0.25);
    }
    
    .auth-logo:hover::after {
      opacity: 0.4;
      transform: rotate(45deg);
    }
    
    .auth-logo img {
      height: 45px;
      width: auto;
      filter: brightness(0) invert(1);
    }
    
    .auth-title {
      font-size: 1.75rem;
      font-weight: 700;
      margin-bottom: var(--space-2);
      color: var(--neutral-900);
      background: linear-gradient(to right, var(--primary), var(--primary-dark));
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      text-fill-color: transparent;
    }
    
    .auth-subtitle {
      font-size: 1rem;
      color: var(--neutral-600);
      max-width: 90%;
      margin: 0 auto;
    }
    
    /* Formularios */
    .auth-form {
      padding: 0 var(--space-6) var(--space-8);
    }
    
    .form-group {
      margin-bottom: var(--space-5);
      transition: all 0.3s ease;
    }
    
    .form-label {
      display: flex;
      align-items: center;
      font-size: 0.875rem;
      font-weight: 500;
      color: var(--neutral-700);
      margin-bottom: var(--space-2);
    }
    
    .form-label i {
      margin-right: var(--space-2);
      color: var(--primary);
      font-size: 0.875rem;
    }
    
    .form-control {
      width: 100%;
      height: 48px;
      padding: 0 var(--space-4);
      background: var(--neutral-50);
      border: 1.5px solid var(--neutral-300);
      border-radius: var(--radius-md);
      font-family: var(--font-base);
      font-size: 0.9375rem;
      color: var(--neutral-800);
      transition: var(--transition-base);
    }
    
    .form-control:focus {
      outline: none;
      border-color: var(--primary);
      box-shadow: var(--shadow-focus);
      background: white;
    }
    
    .form-control::placeholder {
      color: var(--neutral-500);
    }
    
    .form-hint {
      display: flex;
      align-items: center;
      font-size: 0.75rem;
      color: var(--neutral-600);
      margin-top: var(--space-2);
    }
    
    .form-hint i {
      margin-right: var(--space-2);
      color: var(--info);
    }
    
    .error-message {
      font-size: 0.75rem;
      color: var(--danger);
      margin-top: var(--space-2);
      display: none;
      animation: fadeInUp 0.3s ease;
    }
    
    .form-group.success .form-control {
      border-color: var(--success);
      background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24' fill='none' stroke='%2300C897' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpolyline points='20 6 9 17 4 12'%3E%3C/polyline%3E%3C/svg%3E");
      background-repeat: no-repeat;
      background-position: right 12px center;
      background-size: 18px;
      padding-right: 36px;
    }
    
    .form-group.error .form-control {
      border-color: var(--danger);
      background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24' fill='none' stroke='%23FF4757' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Ccircle cx='12' cy='12' r='10'%3E%3C/circle%3E%3Cline x1='12' y1='8' x2='12' y2='12'%3E%3C/line%3E%3Cline x1='12' y1='16' x2='12.01' y2='16'%3E%3C/line%3E%3C/svg%3E");
      background-repeat: no-repeat;
      background-position: right 12px center;
      background-size: 18px;
      padding-right: 36px;
    }
    
    .form-group.error .error-message {
      display: block;
    }
    
    textarea.form-control {
      height: 100px;
      padding: var(--space-3) var(--space-4);
      resize: vertical;
    }
    
    /* Botones */
    .btn {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      height: 48px;
      padding: 0 var(--space-6);
      font-size: 0.9375rem;
      font-weight: 500;
      border-radius: var(--radius-md);
      border: none;
      cursor: pointer;
      transition: var(--transition-bounce);
      font-family: var(--font-heading);
      text-align: center;
      user-select: none;
      position: relative;
      overflow: hidden;
    }
    
    .btn::after {
      content: '';
      position: absolute;
      width: 100%;
      height: 100%;
      top: 0;
      left: 0;
      pointer-events: none;
      background-image: radial-gradient(circle, rgba(255, 255, 255, 0.3) 10%, transparent 10.01%);
      background-repeat: no-repeat;
      background-position: 50%;
      transform: scale(10, 10);
      opacity: 0;
      transition: transform 0.5s, opacity 0.8s;
    }
    
    .btn:active::after {
      transform: scale(0, 0);
      opacity: 0.3;
      transition: 0s;
    }
    
    .btn-primary {
      background: var(--primary);
      color: white;
      box-shadow: var(--shadow-button);
    }
    
    .btn-primary:hover, .btn-primary:focus {
      background: var(--primary-dark);
      transform: translateY(-3px);
      box-shadow: var(--shadow-button-hover);
    }
    
    .btn-outline {
      background: transparent;
      color: var(--primary);
      border: 1.5px solid var(--primary);
    }
    
    .btn-outline:hover, .btn-outline:focus {
      background: var(--primary);
      color: white;
      transform: translateY(-3px);
      box-shadow: var(--shadow-button-hover);
    }
    
    .btn-secondary {
      background: var(--neutral-200);
      color: var(--neutral-700);
    }
    
    .btn-secondary:hover, .btn-secondary:focus {
      background: var(--neutral-300);
      transform: translateY(-2px);
      box-shadow: var(--shadow-md);
    }
    
    .btn-danger {
      background: var(--danger);
      color: white;
      box-shadow: 0 3px 6px rgba(255,71,87,0.2);
    }
    
    .btn-danger:hover, .btn-danger:focus {
      background: #e0394a;
      transform: translateY(-2px);
      box-shadow: 0 6px 15px rgba(255,71,87,0.3);
    }
    
    .btn-success {
      background: var(--success);
      color: white;
      box-shadow: 0 3px 6px rgba(0,200,151,0.2);
    }
    
    .btn-success:hover, .btn-success:focus {
      background: #00b387;
      transform: translateY(-2px);
      box-shadow: 0 6px 15px rgba(0,200,151,0.3);
    }
    
    .btn-icon {
      width: 48px;
      padding: 0;
    }
    
    .btn-icon i {
      margin: 0;
    }
    
    .btn i {
      margin-right: var(--space-2);
    }
    
    .btn-lg {
      height: 54px;
      font-size: 1rem;
      border-radius: var(--radius-lg);
    }
    
    .btn-sm {
      height: 36px;
      font-size: 0.8125rem;
      padding: 0 var(--space-4);
    }
    
    .btn-block {
      width: 100%;
      display: flex;
    }
    
    /* Divider */
    .divider {
      display: flex;
      align-items: center;
      margin: var(--space-5) 0;
      color: var(--neutral-600);
      font-size: 0.875rem;
    }
    
    .divider::before, .divider::after {
      content: '';
      flex: 1;
      height: 1px;
      background: var(--neutral-300);
    }
    
    .divider::before {
      margin-right: var(--space-4);
    }
    
    .divider::after {
      margin-left: var(--space-4);
    }
    
    /* Stepper - Enhanced */
    .stepper {
      display: flex;
      justify-content: space-between;
      margin-bottom: var(--space-8);
      position: relative;
      padding: 0 var(--space-4);
    }
    
    .stepper::before {
      content: '';
      position: absolute;
      top: 18px;
      left: 0;
      right: 0;
      height: 2px;
      background-color: var(--neutral-300);
      z-index: 1;
    }
    
    .step-progress {
      position: absolute;
      top: 18px;
      left: 0;
      height: 2px;
      background: linear-gradient(to right, var(--success), var(--primary));
      z-index: 2;
      transition: width 0.6s cubic-bezier(0.34, 1.56, 0.64, 1);
    }
    
    .step {
      position: relative;
      z-index: 3;
      display: flex;
      flex-direction: column;
      align-items: center;
      text-align: center;
      width: 90px;
    }
    
    .step-number {
      width: 36px;
      height: 36px;
      border-radius: var(--radius-full);
      background: var(--neutral-200);
      border: 2px solid var(--neutral-300);
      color: var(--neutral-600);
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: 600;
      margin-bottom: var(--space-2);
      transition: all 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
      font-size: 0.875rem;
    }
    
    .step.active .step-number {
      background: var(--primary);
      border-color: var(--primary);
      color: white;
      transform: scale(1.15);
      box-shadow: 0 0 0 6px rgba(0,133,255,0.15);
    }
    
    .step.completed .step-number {
      background: var(--success);
      border-color: var(--success);
      color: white;
    }
    
    .step-label {
      font-size: 0.75rem;
      color: var(--neutral-600);
      font-weight: 500;
      transition: var(--transition-base);
    }
    
    .step.active .step-label {
      color: var(--primary);
      font-weight: 600;
    }
    
    .step.completed .step-label {
      color: var(--success);
    }
    
    /* Cards - Enhanced */
    .card {
      background: white;
      border-radius: var(--radius-lg);
      box-shadow: var(--shadow-card);
      overflow: hidden;
      border: 1px solid var(--neutral-200);
      margin-bottom: var(--space-6);
      transition: transform 0.3s ease, box-shadow 0.3s ease;
    }
    
    .card:hover {
      transform: translateY(-4px);
      box-shadow: var(--shadow-lg);
    }
    
    .card-header {
      display: flex;
      align-items: center;
      padding: var(--space-4) var(--space-6);
      border-bottom: 1px solid var(--neutral-200);
      background: var(--neutral-50);
    }
    
    .card-title {
      font-size: 1.125rem;
      font-weight: 600;
      color: var(--neutral-900);
      display: flex;
      align-items: center;
    }
    
    .card-title i {
      margin-right: var(--space-3);
      color: var(--primary);
      font-size: 1.125rem;
    }
    
    .card-body {
      padding: var(--space-6);
    }
    
    /* Paso de verificaci√≥n */
    .verification-step {
      display: none;
    }
    
    .verification-step.active {
      display: block;
      animation: fadeIn 0.5s ease;
    }
    
    /* Progress indicator - Enhanced */
    .progress-indicator {
      display: flex;
      align-items: center;
      background: var(--primary-ultralight);
      padding: var(--space-4);
      border-radius: var(--radius-md);
      margin-bottom: var(--space-6);
      border-left: 3px solid var(--primary);
      transition: all 0.3s ease;
    }
    
    .progress-indicator:hover {
      transform: translateY(-3px);
      box-shadow: var(--shadow-md);
    }
    
    .progress-indicator-icon {
      width: 40px;
      height: 40px;
      background: var(--primary);
      color: white;
      border-radius: var(--radius-full);
      display: flex;
      align-items: center;
      justify-content: center;
      margin-right: var(--space-4);
      flex-shrink: 0;
      box-shadow: 0 4px 10px rgba(0,133,255,0.2);
    }
    
    .progress-indicator-title {
      font-size: 1rem;
      font-weight: 600;
      color: var(--primary);
      margin-bottom: var(--space-1);
    }
    
    .progress-indicator-text {
      font-size: 0.875rem;
      color: var(--neutral-600);
    }
    
    /* Document upload - Enhanced */
    .document-upload {
      border: 2px dashed var(--neutral-400);
      border-radius: var(--radius-md);
      padding: var(--space-6) var(--space-4);
      text-align: center;
      cursor: pointer;
      transition: var(--transition-base);
      background: var(--neutral-100);
      position: relative;
      overflow: hidden;
    }
    
    .document-upload:hover {
      border-color: var(--primary);
      background: rgba(0,133,255,0.05);
    }
    
    .document-upload i {
      font-size: 2.25rem;
      color: var(--primary);
      margin-bottom: var(--space-4);
      transition: transform 0.3s ease;
    }
    
    .document-upload:hover i {
      transform: translateY(-5px);
    }
    
    .document-upload-title {
      font-size: 1.125rem;
      font-weight: 600;
      color: var(--primary);
      margin-bottom: var(--space-2);
    }
    
    .document-upload-text {
      font-size: 0.875rem;
      color: var(--neutral-600);
    }
    
    .document-upload input[type="file"] {
      position: absolute;
      left: -9999px;
    }
    
    .document-preview {
      position: relative;
      width: 100%;
      max-width: 340px;
      height: 220px;
      margin: var(--space-4) auto;
      border-radius: var(--radius-md);
      overflow: hidden;
      box-shadow: var(--shadow-lg);
      display: none;
      border: 2px solid var(--primary);
    }
    
    .document-preview img {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }
    
    .document-preview.active {
      display: block;
    }
    
    .document-preview-actions {
      position: absolute;
      bottom: 0;
      left: 0;
      right: 0;
      display: flex;
      justify-content: center;
      padding: var(--space-2);
      background: rgba(0,0,0,0.6);
      backdrop-filter: blur(4px);
      transform: translateY(100%);
      transition: var(--transition-base);
    }
    
    .document-preview:hover .document-preview-actions {
      transform: translateY(0);
    }
    
    .document-preview-btn {
      width: 34px;
      height: 34px;
      border-radius: var(--radius-full);
      display: flex;
      align-items: center;
      justify-content: center;
      margin: 0 var(--space-1);
      background: white;
      color: var(--neutral-800);
      border: none;
      cursor: pointer;
      transition: var(--transition-base);
    }
    
    .document-preview-btn:hover {
      transform: scale(1.1);
    }
    
    .document-preview-btn.remove {
      background: var(--danger);
      color: white;
    }
    
    /* Modern Analysis Overlay - New */
    .analysis-overlay {
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: rgba(0,0,0,0.5);
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      z-index: 10;
      backdrop-filter: blur(4px);
      opacity: 0;
      transition: opacity 0.3s ease;
      pointer-events: none;
    }
    
    .analysis-overlay.active {
      opacity: 1;
    }
    
    .analysis-status {
      color: white;
      font-size: 0.875rem;
      margin-top: var(--space-3);
      font-weight: 500;
      text-align: center;
      max-width: 80%;
      text-shadow: 0 1px 3px rgba(0,0,0,0.3);
    }
    
    .analysis-spinner {
      width: 48px;
      height: 48px;
      margin-bottom: var(--space-2);
    }
    
    .scan-overlay {
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      pointer-events: none;
      overflow: hidden;
    }
    
    .scan-line {
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 3px;
      background: linear-gradient(to right, transparent, var(--success), transparent);
      box-shadow: 0 0 10px var(--success);
      animation: scanAnimation 1.5s linear infinite;
    }
    
    .detection-point {
      position: absolute;
      width: 12px;
      height: 12px;
      border-radius: 50%;
      border: 2px solid var(--success);
      background: rgba(0,200,151,0.3);
      transform: translate(-50%, -50%);
      box-shadow: 0 0 8px var(--success);
      opacity: 0;
    }
    
    .detection-rect {
      position: absolute;
      border: 2px solid var(--success);
      border-radius: 4px;
      background: rgba(0,200,151,0.1);
      box-shadow: 0 0 8px rgba(0,200,151,0.5);
      opacity: 0;
    }
    
    @keyframes scanAnimation {
      0% { top: 0; opacity: 0.8; }
      50% { top: 100%; opacity: 1; }
      100% { top: 0; opacity: 0.8; }
    }
    
    @keyframes pulsePoint {
      0% { transform: translate(-50%, -50%) scale(0.8); opacity: 0.3; }
      50% { transform: translate(-50%, -50%) scale(1.2); opacity: 1; }
      100% { transform: translate(-50%, -50%) scale(0.8); opacity: 0.3; }
    }
    
    /* Selfie capture - Enhanced */
    .selfie-container {
      position: relative;
      width: 100%;
      max-width: 340px;
      height: 340px;
      margin: 0 auto var(--space-6);
      border-radius: var(--radius-lg);
      overflow: hidden;
      box-shadow: var(--shadow-lg);
      border: 3px solid var(--primary);
    }
    
    .selfie-video {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }
    
    .selfie-overlay {
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      pointer-events: none;
    }
    
    .face-outline {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      width: 180px;
      height: 220px;
      border: 2px dashed rgba(255,255,255,0.8);
      border-radius: 90px;
      box-shadow: 0 0 0 2000px rgba(0,0,0,0.5);
      transition: all 0.3s ease;
    }
    
    .face-scan-effect {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      width: 180px;
      height: 220px;
      border-radius: 90px;
      background: linear-gradient(to bottom, transparent, rgba(0,200,151,0.15), transparent);
      opacity: 0;
      animation: faceScan 2s ease-in-out infinite;
    }
    
    @keyframes faceScan {
      0% { transform: translate(-50%, -150%); opacity: 0; }
      20% { opacity: 0.7; }
      80% { opacity: 0.7; }
      100% { transform: translate(-50%, 50%); opacity: 0; }
    }
    
    .biometric-points {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
    }
    
    .biometric-point {
      position: absolute;
      width: 4px;
      height: 4px;
      background-color: var(--success);
      border-radius: 50%;
      opacity: 0;
    }
    
    .selfie-instructions {
      position: absolute;
      bottom: 0;
      left: 0;
      right: 0;
      background: rgba(0,0,0,0.7);
      padding: var(--space-3);
      color: white;
      font-size: 0.875rem;
      text-align: center;
      backdrop-filter: blur(4px);
    }
    
    .selfie-counter {
      position: absolute;
      top: 50%;
      left: 0;
      right: 0;
      transform: translateY(-50%);
      font-size: 6rem;
      color: white;
      text-align: center;
      font-weight: 700;
      text-shadow: 0 2px 10px rgba(0,0,0,0.5);
      z-index: 10;
      opacity: 0;
    }
    
    .selfie-counter.active {
      animation: countDown 3s linear forwards;
    }
    
    @keyframes countDown {
      0%, 25% {
        opacity: 1;
        transform: translateY(-50%) scale(1);
      }
      30%, 55% {
        opacity: 1;
        transform: translateY(-50%) scale(1);
      }
      60%, 85% {
        opacity: 1;
        transform: translateY(-50%) scale(1);
      }
      90%, 100% {
        opacity: 0;
        transform: translateY(-50%) scale(1.2);
      }
    }
    
    /* Bank selection - Enhanced */
    .bank-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(130px, 1fr));
      gap: var(--space-4);
      margin-bottom: var(--space-6);
    }
    
    .bank-option {
      border: 1.5px solid var(--neutral-300);
      border-radius: var(--radius-md);
      padding: var(--space-4) var(--space-2);
      display: flex;
      flex-direction: column;
      align-items: center;
      text-align: center;
      cursor: pointer;
      transition: all 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
      background: var(--secondary);
      position: relative;
    }
    
    .bank-option:hover {
      border-color: var(--primary);
      box-shadow: var(--shadow-md);
      transform: translateY(-3px);
    }
    
    .bank-option.active {
      border-color: var(--primary);
      background: var(--primary-ultralight);
      transform: scale(1.05);
      box-shadow: var(--shadow-md);
    }
    
    .bank-logo {
      width: 60px;
      height: 60px;
      object-fit: contain;
      margin-bottom: var(--space-3);
      transition: transform 0.3s ease;
    }
    
    .bank-option:hover .bank-logo {
      transform: scale(1.1);
    }
    
    .bank-name {
      font-size: 0.8125rem;
      color: var(--neutral-800);
      font-weight: 500;
    }
    
    .bank-option.active .bank-name {
      color: var(--primary);
      font-weight: 600;
    }
    
    .bank-option::after {
      content: '';
      position: absolute;
      top: 8px;
      right: 8px;
      width: 16px;
      height: 16px;
      border-radius: 50%;
      background: var(--primary);
      color: white;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 0.625rem;
      transform: scale(0);
      transition: transform 0.2s cubic-bezier(0.34, 1.56, 0.64, 1);
      opacity: 0;
    }
    
    .bank-option.active::after {
      transform: scale(1);
      opacity: 1;
      content: '\f00c';
      font-family: 'Font Awesome 6 Free';
      font-weight: 900;
    }
    
    /* Verification section - Enhanced */
    .verification-section {
      background: var(--primary-ultralight);
      border-radius: var(--radius-md);
      padding: var(--space-6);
      margin-top: var(--space-6);
      border-left: 4px solid var(--primary);
      box-shadow: var(--shadow-sm);
      transition: transform 0.3s ease, box-shadow 0.3s ease;
    }
    
    .verification-section:hover {
      transform: translateY(-3px);
      box-shadow: var(--shadow-md);
    }
    
    .verification-reason {
      background: white;
      border-radius: var(--radius-md);
      padding: var(--space-4);
      margin-bottom: var(--space-4);
      display: flex;
      align-items: flex-start;
      gap: var(--space-4);
      box-shadow: var(--shadow-sm);
      border: 1px solid var(--neutral-200);
      transition: transform 0.3s ease, box-shadow 0.3s ease;
    }
    
    .verification-reason:hover {
      transform: translateY(-3px);
      box-shadow: var(--shadow-md);
    }
    
    .verification-reason-icon {
      width: 36px;
      height: 36px;
      background: var(--primary-ultralight);
      color: var(--primary);
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      flex-shrink: 0;
      transition: transform 0.3s ease;
    }
    
    .verification-reason:hover .verification-reason-icon {
      transform: scale(1.1);
      background: var(--primary);
      color: white;
    }
    
    .verification-reason-title {
      font-size: 1rem;
      font-weight: 600;
      color: var(--primary);
      margin-bottom: var(--space-1);
    }
    
    /* Custom checkbox - Enhanced */
    .custom-checkbox-group {
      background: white;
      padding: var(--space-4);
      border-radius: var(--radius-md);
      border: 1px solid var(--neutral-200);
      margin-top: var(--space-4);
      box-shadow: var(--shadow-sm);
      transition: transform 0.3s ease, box-shadow 0.3s ease;
    }
    
    .custom-checkbox-group:hover {
      transform: translateY(-2px);
      box-shadow: var(--shadow-md);
    }
    
    .custom-checkbox {
      position: relative;
      padding-left: 32px;
      cursor: pointer;
      user-select: none;
      display: inline-block;
      font-size: 0.9375rem;
      color: var(--neutral-800);
      line-height: 1.5;
    }
    
    .custom-checkbox input {
      position: absolute;
      opacity: 0;
      cursor: pointer;
      height: 0;
      width: 0;
    }
    
    .checkmark {
      position: absolute;
      top: 2px;
      left: 0;
      height: 22px;
      width: 22px;
      background-color: var(--neutral-100);
      border: 1.5px solid var(--neutral-400);
      border-radius: 4px;
      transition: all 0.2s ease;
    }
    
    .custom-checkbox:hover input ~ .checkmark {
      border-color: var(--primary);
      background-color: var(--primary-ultralight);
    }
    
    .custom-checkbox input:checked ~ .checkmark {
      background-color: var(--primary);
      border-color: var(--primary);
      box-shadow: 0 0 0 2px rgba(0,133,255,0.15);
    }
    
    .checkmark:after {
      content: "";
      position: absolute;
      display: none;
      left: 7px;
      top: 3px;
      width: 5px;
      height: 10px;
      border: solid white;
      border-width: 0 2px 2px 0;
      transform: rotate(45deg);
    }
    
    .custom-checkbox input:checked ~ .checkmark:after {
      display: block;
      animation: checkmark 0.2s cubic-bezier(0.34, 1.56, 0.64, 1);
    }
    
    @keyframes checkmark {
      0% { opacity: 0; transform: rotate(45deg) scale(0); }
      100% { opacity: 1; transform: rotate(45deg) scale(1); }
    }
    
    /* FAQ - Enhanced */
    .faq-container {
      margin-top: var(--space-6);
      border: 1px solid var(--neutral-300);
      border-radius: var(--radius-lg);
      overflow: hidden;
      background: var(--secondary);
      box-shadow: var(--shadow-card);
      transition: transform 0.3s ease, box-shadow 0.3s ease;
    }
    
    .faq-container:hover {
      transform: translateY(-3px);
      box-shadow: var(--shadow-lg);
    }
    
    .faq-header {
      background: var(--primary);
      color: white;
      padding: var(--space-4) var(--space-6);
      text-align: center;
    }
    
    .faq-title {
      font-size: 1.25rem;
      font-weight: 600;
      margin-bottom: var(--space-1);
    }
    
    .faq-subtitle {
      font-size: 0.875rem;
      opacity: 0.9;
    }
    
    .faq-item {
      border-bottom: 1px solid var(--neutral-200);
    }
    
    .faq-item:last-child {
      border-bottom: none;
    }
    
    .faq-question {
      padding: var(--space-4) var(--space-6);
      font-size: 0.9375rem;
      font-weight: 500;
      color: var(--neutral-900);
      background: var(--neutral-50);
      cursor: pointer;
      display: flex;
      justify-content: space-between;
      align-items: center;
      transition: var(--transition-base);
    }
    
    .faq-question:hover {
      background: var(--primary-ultralight);
      color: var(--primary);
    }
    
    .faq-question i {
      color: var(--primary);
      transition: transform 0.3s ease;
    }
    
    .faq-question.active {
      background: var(--primary-ultralight);
      color: var(--primary);
      font-weight: 600;
    }
    
    .faq-question.active i {
      transform: rotate(180deg);
    }
    
    .faq-answer {
      max-height: 0;
      overflow: hidden;
      transition: max-height 0.4s ease, padding 0.4s ease;
      background: white;
    }
    
    .faq-answer.active {
      max-height: 500px;
      padding: var(--space-4) var(--space-6);
    }
    
    .faq-answer p {
      margin-bottom: var(--space-3);
      font-size: 0.875rem;
    }
    
    .highlight-box {
      background: var(--warning-light);
      border-left: 3px solid var(--warning);
      padding: var(--space-3) var(--space-4);
      border-radius: var(--radius-sm);
      margin: var(--space-3) 0;
    }
    
    /* Trust signals - Enhanced */
    .trust-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
      gap: var(--space-4);
      margin: var(--space-6) 0;
    }
    
    .trust-item {
      display: flex;
      align-items: center;
      gap: var(--space-3);
      padding: var(--space-4);
      background: white;
      border-radius: var(--radius-md);
      box-shadow: var(--shadow-sm);
      transition: var(--transition-bounce);
      border: 1px solid var(--neutral-200);
    }
    
    .trust-item:hover {
      transform: translateY(-4px) scale(1.02);
      box-shadow: var(--shadow-md);
    }
    
    .trust-icon {
      width: 40px;
      height: 40px;
      background: var(--primary-ultralight);
      color: var(--primary);
      border-radius: var(--radius-full);
      display: flex;
      align-items: center;
      justify-content: center;
      flex-shrink: 0;
      font-size: 1.125rem;
      transition: transform 0.3s ease, background 0.3s ease, color 0.3s ease;
    }
    
    .trust-item:hover .trust-icon {
      background: var(--primary);
      color: white;
      transform: scale(1.1);
    }
    
    .trust-title {
      font-size: 0.9375rem;
      font-weight: 600;
      color: var(--neutral-900);
      margin-bottom: var(--space-1);
    }
    
    .trust-text {
      font-size: 0.8125rem;
      color: var(--neutral-600);
    }
    
    /* Success message - Enhanced */
    .success-container {
      text-align: center;
      padding: var(--space-8) var(--space-4);
      display: none;
      animation: fadeInUp 0.5s ease;
    }
    
    .success-icon {
      width: 90px;
      height: 90px;
      background: var(--success);
      color: white;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 2.5rem;
      margin: 0 auto var(--space-6);
      position: relative;
      box-shadow: 0 10px 20px rgba(0,200,151,0.3);
    }
    
    .success-icon::after {
      content: '';
      position: absolute;
      top: -10px;
      left: -10px;
      right: -10px;
      bottom: -10px;
      background: rgba(0,200,151,0.2);
      border-radius: 50%;
      z-index: -1;
      animation: pulse 2s infinite;
    }
    
    .success-icon::before {
      content: '';
      position: absolute;
      top: -20px;
      left: -20px;
      right: -20px;
      bottom: -20px;
      background: rgba(0,200,151,0.1);
      border-radius: 50%;
      z-index: -2;
      animation: pulse 2s infinite 0.5s;
    }
    
    @keyframes pulse {
      0% { transform: scale(1); opacity: 1; }
      50% { transform: scale(1.1); opacity: 0.7; }
      100% { transform: scale(1); opacity: 1; }
    }
    
    .success-title {
      font-size: 2rem;
      font-weight: 700;
      color: var(--neutral-900);
      margin-bottom: var(--space-3);
    }
    
    .success-subtitle {
      font-size: 1.125rem;
      color: var(--neutral-600);
      max-width: 700px;
      margin: 0 auto var(--space-6);
    }
    
    .instruction-card {
      background: white;
      border-radius: var(--radius-lg);
      box-shadow: var(--shadow-card);
      padding: var(--space-6);
      margin: 0 auto var(--space-6);
      max-width: 680px;
      border-top: 5px solid var(--primary);
      text-align: left;
      transition: transform 0.3s ease, box-shadow 0.3s ease;
    }
    
    .instruction-card:hover {
      transform: translateY(-4px);
      box-shadow: var(--shadow-lg);
    }
    
    .instruction-title {
      font-size: 1.25rem;
      font-weight: 700;
      color: var(--primary);
      margin-bottom: var(--space-5);
      text-align: center;
      padding-bottom: var(--space-3);
      border-bottom: 1px dashed var(--neutral-300);
    }
    
    .instruction-steps {
      list-style: none;
      counter-reset: steps;
      padding: 0;
      margin: 0;
    }
    
    .instruction-steps li {
      position: relative;
      padding-left: 40px;
      margin-bottom: var(--space-4);
      counter-increment: steps;
    }
    
    .instruction-steps li::before {
      content: counter(steps);
      position: absolute;
      left: 0;
      top: 0;
      width: 28px;
      height: 28px;
      background: var(--primary);
      color: white;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: 600;
      font-size: 0.875rem;
      box-shadow: 0 2px 6px rgba(0,133,255,0.2);
    }
    
    /* Recharge instructions - Enhanced */
    .recharge-container {
      background: var(--primary-ultralight);
      border-radius: var(--radius-md);
      padding: var(--space-6);
      margin: var(--space-6) 0;
      border-left: 4px solid var(--primary);
      box-shadow: var(--shadow-sm);
      transition: transform 0.3s ease, box-shadow 0.3s ease;
    }
    
    .recharge-container:hover {
      transform: translateY(-3px);
      box-shadow: var(--shadow-md);
    }
    
    .recharge-title {
      display: flex;
      align-items: center;
      font-size: 1.125rem;
      font-weight: 600;
      color: var(--primary);
      margin-bottom: var(--space-4);
    }
    
    .recharge-title i {
      margin-right: var(--space-2);
    }
    
    .recharge-step {
      display: flex;
      margin-bottom: var(--space-4);
      padding-bottom: var(--space-4);
      border-bottom: 1px dashed var(--neutral-300);
      transition: transform 0.3s ease;
    }
    
    .recharge-step:hover {
      transform: translateX(5px);
    }
    
    .recharge-step:last-child {
      margin-bottom: 0;
      padding-bottom: 0;
      border-bottom: none;
    }
    
    .recharge-step-number {
      width: 30px;
      height: 30px;
      background: var(--primary);
      color: white;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: 600;
      margin-right: var(--space-3);
      flex-shrink: 0;
      font-size: 0.875rem;
      box-shadow: 0 2px 6px rgba(0,133,255,0.2);
    }
    
    .recharge-step:hover .recharge-step-number {
      background: var(--primary-dark);
      transform: scale(1.1);
    }
    
    .recharge-step-title {
      font-weight: 600;
      color: var(--neutral-800);
      margin-bottom: var(--space-1);
      font-size: 0.9375rem;
    }
    
    .deposit-reference {
      display: inline-block;
      font-family: var(--font-heading);
      background: var(--primary-ultralight);
      color: var(--primary);
      padding: var(--space-2) var(--space-3);
      border-radius: var(--radius-md);
      font-weight: 700;
      letter-spacing: 0.5px;
      margin-top: var(--space-2);
      border: 1px dashed var(--primary);
      box-shadow: 0 2px 6px rgba(0,133,255,0.1);
      cursor: pointer;
      transition: all 0.2s ease;
    }
    
    .deposit-reference:hover {
      background: var(--primary);
      color: white;
    }
    
    /* Feature grid - Enhanced */
    .feature-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
      gap: var(--space-4);
      margin-top: var(--space-6);
    }
    
    .feature-item {
      background: white;
      border-radius: var(--radius-md);
      padding: var(--space-5);
      display: flex;
      flex-direction: column;
      align-items: center;
      text-align: center;
      box-shadow: var(--shadow-card);
      transition: var(--transition-bounce);
      border: 1px solid var(--neutral-200);
    }
    
    .feature-item:hover {
      transform: translateY(-5px);
      box-shadow: var(--shadow-lg);
    }
    
    .feature-icon {
      width: 56px;
      height: 56px;
      background: var(--primary-ultralight);
      color: var(--primary);
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      margin-bottom: var(--space-3);
      font-size: 1.25rem;
      transition: transform 0.3s ease, background 0.3s ease, color 0.3s ease;
    }
    
    .feature-item:hover .feature-icon {
      background: var(--primary);
      color: white;
      transform: scale(1.1);
    }
    
    .feature-title {
      font-weight: 600;
      color: var(--neutral-800);
      margin-bottom: var(--space-2);
      font-size: 1rem;
    }
    
    .feature-desc {
      font-size: 0.875rem;
      color: var(--neutral-600);
      margin-bottom: var(--space-3);
    }
    
    /* Badge - Enhanced */
    .badge {
      display: inline-flex;
      align-items: center;
      padding: var(--space-1) var(--space-2);
      border-radius: var(--radius-full);
      font-size: 0.75rem;
      font-weight: 600;
      gap: var(--space-1);
      transition: all 0.2s ease;
    }
    
    .badge:hover {
      transform: translateY(-1px);
    }
    
    .badge-primary {
      background: var(--primary-ultralight);
      color: var(--primary);
    }
    
    .badge-primary:hover {
      background: var(--primary);
      color: white;
    }
    
    .badge-success {
      background: var(--success-light);
      color: var(--success);
    }
    
    .badge-success:hover {
      background: var(--success);
      color: white;
    }
    
    /* Toast notifications - Enhanced */
    .toast-container {
      position: fixed;
      top: calc(var(--header-height) + 20px);
      right: 20px;
      z-index: 9999;
      display: flex;
      flex-direction: column;
      gap: 10px;
      max-width: 350px;
      width: calc(100% - 40px);
    }
    
    .toast {
      background: white;
      color: var(--neutral-800);
      border-radius: var(--radius-md);
      padding: var(--space-3) var(--space-4);
      display: flex;
      align-items: flex-start;
      box-shadow: var(--shadow-lg);
      overflow: hidden;
      position: relative;
      border: 1px solid var(--neutral-200);
    }
    
    .toast::before {
      content: '';
      position: absolute;
      left: 0;
      top: 0;
      height: 100%;
      width: 3px;
    }
    
    .toast.success::before { background: var(--success); }
    .toast.error::before { background: var(--danger); }
    .toast.warning::before { background: var(--warning); }
    .toast.info::before { background: var(--info); }
    
    .toast-icon {
      margin-right: var(--space-3);
      flex-shrink: 0;
      width: 24px;
      height: 24px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    
    .toast.success .toast-icon { 
      color: white; 
      background: var(--success);
    }
    
    .toast.error .toast-icon { 
      color: white; 
      background: var(--danger);
    }
    
    .toast.warning .toast-icon { 
      color: white; 
      background: var(--warning);
    }
    
    .toast.info .toast-icon { 
      color: white; 
      background: var(--info);
    }
    
    .toast-content {
      flex: 1;
    }
    
    .toast-title {
      font-weight: 600;
      font-size: 0.9375rem;
      margin-bottom: 2px;
    }
    
    .toast-message {
      font-size: 0.8125rem;
      color: var(--neutral-600);
    }
    
    .toast-close {
      margin-left: var(--space-2);
      color: var(--neutral-400);
      cursor: pointer;
      flex-shrink: 0;
      width: 20px;
      height: 20px;
      display: flex;
      align-items: center;
      justify-content: center;
      border-radius: 50%;
      transition: all 0.2s ease;
    }
    
    .toast-close:hover {
      background: var(--neutral-200);
      color: var(--neutral-700);
    }
    
    .toast-progress {
      position: absolute;
      bottom: 0;
      left: 0;
      right: 0;
      height: 3px;
      background: rgba(0,0,0,0.05);
    }
    
    .toast-progress::before {
      content: '';
      position: absolute;
      height: 100%;
      width: 100%;
      background: var(--primary-light);
      animation: toast-progress 3s linear forwards;
      transform-origin: left;
    }
    
    @keyframes toast-progress {
      0% { transform: scaleX(1); }
      100% { transform: scaleX(0); }
    }
    
    /* Loading overlay - Enhanced */
    .loading-overlay {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: rgba(9,30,66,0.85);
      backdrop-filter: blur(6px);
      display: none;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      z-index: 9999;
      padding: var(--space-4);
    }
    
    .loading-content {
      text-align: center;
      max-width: 460px;
      background: rgba(255,255,255,0.1);
      padding: var(--space-8);
      border-radius: var(--radius-lg);
      backdrop-filter: blur(10px);
      box-shadow: 0 20px 40px rgba(0,0,0,0.2);
    }
    
    .spinner-container {
      position: relative;
      width: 100px;
      height: 100px;
      margin: 0 auto var(--space-6);
    }
    
    .spinner {
      width: 70px;
      height: 70px;
      border: 3px solid rgba(255,255,255,0.1);
      border-radius: 50%;
      border-top-color: white;
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      animation: spin 0.8s linear infinite;
    }
    
    .spinner-inner {
      width: 45px;
      height: 45px;
      border: 3px solid rgba(255,255,255,0.05);
      border-radius: 50%;
      border-top-color: var(--primary-light);
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      animation: spin 0.6s linear infinite reverse;
    }
    
    .spinner-core {
      width: 20px;
      height: 20px;
      background: var(--primary);
      border-radius: 50%;
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      box-shadow: 0 0 15px var(--primary);
      animation: pulse 1.5s ease infinite;
    }
    
    @keyframes spin {
      to { transform: translate(-50%, -50%) rotate(360deg); }
    }
    
    .loading-text {
      color: white;
      font-size: 1.25rem;
      font-weight: 600;
      margin-bottom: var(--space-2);
    }
    
    .loading-subtext {
      color: rgba(255,255,255,0.7);
      font-size: 0.9375rem;
      margin-bottom: var(--space-5);
    }
    
    .progress-bar-container {
      width: 100%;
      height: 8px;
      background: rgba(255,255,255,0.1);
      border-radius: var(--radius-full);
      overflow: hidden;
      padding: 1px;
    }
    
    .progress-bar {
      height: 100%;
      background: linear-gradient(to right, var(--primary), var(--primary-light));
      width: 0%;
      border-radius: var(--radius-full);
      position: relative;
      box-shadow: 0 0 10px rgba(0,133,255,0.5);
    }
    
    .progress-bar::after {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: linear-gradient(
        90deg,
        rgba(255,255,255,0) 0%,
        rgba(255,255,255,0.5) 50%,
        rgba(255,255,255,0) 100%
      );
      animation: shineEffect 1.5s infinite;
    }
    
    @keyframes shineEffect {
      0% { transform: translateX(-100%); }
      100% { transform: translateX(100%); }
    }
    
    /* WhatsApp button - Enhanced */
    .whatsapp-btn {
      position: fixed;
      bottom: 25px;
      right: 25px;
      width: 60px;
      height: 60px;
      background: #25D366;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      color: white;
      font-size: 1.75rem;
      box-shadow: 0 5px 15px rgba(37,211,102,0.35);
      border: none;
      cursor: pointer;
      transition: var(--transition-bounce);
      z-index: 900;
    }
    
    .whatsapp-btn:hover {
      transform: scale(1.1) translateY(-5px);
      box-shadow: 0 10px 25px rgba(37,211,102,0.4);
    }
    
    .whatsapp-tooltip {
      position: absolute;
      bottom: 100%;
      right: 0;
      background: var(--neutral-800);
      color: white;
      padding: var(--space-2) var(--space-3);
      border-radius: var(--radius-md);
      margin-bottom: var(--space-2);
      font-size: 0.875rem;
      white-space: nowrap;
      opacity: 0;
      pointer-events: none;
      transform: translateY(10px);
      transition: var(--transition-base);
      box-shadow: 0 4px 10px rgba(0,0,0,0.2);
    }
    
    .whatsapp-tooltip::after {
      content: '';
      position: absolute;
      top: 100%;
      right: 18px;
      border: 8px solid transparent;
      border-top-color: var(--neutral-800);
    }
    
    .whatsapp-btn:hover .whatsapp-tooltip {
      opacity: 1;
      transform: translateY(0);
    }
    
    /* Tabs - Enhanced */
    .tabs {
      display: flex;
      border-bottom: 1px solid var(--neutral-300);
      margin-bottom: var(--space-4);
    }
    
    .tab {
      padding: var(--space-3) var(--space-4);
      font-size: 0.9375rem;
      font-weight: 500;
      color: var(--neutral-600);
      border-bottom: 2px solid transparent;
      cursor: pointer;
      transition: var(--transition-base);
      flex: 1;
      text-align: center;
    }
    
    .tab:hover {
      color: var(--primary);
      background: var(--primary-ultralight);
    }
    
    .tab.active {
      color: var(--primary);
      border-bottom-color: var(--primary);
      font-weight: 600;
      background: var(--primary-ultralight);
    }
    
    .tab-content {
      display: none;
      animation: fadeIn 0.3s ease;
    }
    
    .tab-content.active {
      display: block;
    }
    
    /* Row layout for form fields */
    .form-row {
      display: flex;
      flex-wrap: wrap;
      gap: var(--space-4);
      margin-bottom: var(--space-2);
    }
    
    .form-col {
      flex: 1;
      min-width: 220px;
    }
    
    /* Status Indicators - New */
    .status-indicator {
      display: flex;
      align-items: center;
      border-radius: var(--radius-md);
      padding: var(--space-3) var(--space-4);
      margin-bottom: var(--space-4);
      position: relative;
      overflow: hidden;
    }
    
    .status-indicator::after {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, rgba(255,255,255,0), rgba(255,255,255,0.1), rgba(255,255,255,0));
      transform: translateX(-100%);
      animation: shimmer 2s infinite;
    }
    
    @keyframes shimmer {
      100% {
        transform: translateX(100%);
      }
    }
    
    .status-indicator-icon {
      width: 36px;
      height: 36px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      margin-right: var(--space-3);
      flex-shrink: 0;
    }
    
    .status-content {
      flex: 1;
    }
    
    .status-title {
      font-weight: 600;
      margin-bottom: 2px;
    }
    
    .status-text {
      font-size: 0.875rem;
    }
    
    .status-complete {
      background-color: var(--success-light);
      border-left: 3px solid var(--success);
    }
    
    .status-complete .status-indicator-icon {
      background-color: var(--success);
      color: white;
    }
    
    .status-complete .status-title {
      color: var(--success);
    }
    
    .status-pending {
      background-color: var(--warning-light);
      border-left: 3px solid var(--warning);
    }
    
    .status-pending .status-indicator-icon {
      background-color: var(--warning);
      color: white;
    }
    
    .status-pending .status-title {
      color: var(--warning);
    }
    
    .status-info {
      background-color: var(--info-light);
      border-left: 3px solid var(--info);
    }
    
    .status-info .status-indicator-icon {
      background-color: var(--info);
      color: white;
    }
    
    .status-info .status-title {
      color: var(--info);
    }
    
    /* Verification Steps - Enhanced */
    .verification-progress {
      background: white;
      border-radius: var(--radius-lg);
      padding: var(--space-5);
      margin-bottom: var(--space-6);
      box-shadow: var(--shadow-card);
    }
    
    .verification-progress-title {
      font-weight: 600;
      color: var(--neutral-800);
      margin-bottom: var(--space-4);
      display: flex;
      align-items: center;
      font-size: 1.125rem;
    }
    
    .verification-progress-title i {
      margin-right: var(--space-2);
      color: var(--primary);
    }
    
    .verification-progress-items {
      display: flex;
      flex-direction: column;
      gap: var(--space-3);
    }
    
    .verification-progress-item {
      display: flex;
      align-items: center;
      padding: var(--space-3);
      border-radius: var(--radius-md);
      transition: all 0.3s ease;
      background: var(--neutral-50);
      border: 1px solid var(--neutral-200);
    }
    
    .verification-progress-item:hover {
      transform: translateX(5px);
      box-shadow: var(--shadow-sm);
    }
    
    .verification-item-icon {
      width: 30px;
      height: 30px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      margin-right: var(--space-3);
      flex-shrink: 0;
      font-size: 0.875rem;
    }
    
    .verification-item-complete .verification-item-icon {
      background: var(--success);
      color: white;
    }
    
    .verification-item-pending .verification-item-icon {
      background: var(--neutral-300);
      color: var(--neutral-600);
    }
    
    .verification-item-required .verification-item-icon {
      background: var(--warning);
      color: white;
    }
    
    .verification-item-content {
      flex: 1;
    }
    
    .verification-item-title {
      font-weight: 500;
      color: var(--neutral-800);
      display: flex;
      align-items: center;
    }
    
    .verification-item-complete .verification-item-title {
      text-decoration: line-through;
      color: var(--neutral-500);
    }
    
    .verification-item-required .verification-item-title {
      color: var(--warning);
      font-weight: 600;
    }
    
    .verification-badge {
      display: inline-flex;
      align-items: center;
      padding: 2px 8px;
      border-radius: 20px;
      font-size: 0.6875rem;
      font-weight: 600;
      margin-left: var(--space-2);
    }
    
    .verification-badge-pending {
      background: var(--neutral-200);
      color: var(--neutral-600);
    }
    
    .verification-badge-required {
      background: var(--warning-light);
      color: var(--warning);
    }
    
    /* Analysis overlay animations */
    @keyframes fadeInUp {
      from { opacity: 0; transform: translateY(15px); }
      to { opacity: 1; transform: translateY(0); }
    }
    
    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }
    
    /* Document validation animation */
    .doc-scanning-effect {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      border-radius: var(--radius-md);
      background: linear-gradient(
        to bottom, 
        transparent, 
        rgba(0,200,151,0.15),
        transparent
      );
      opacity: 0;
      animation: docScan 2s ease-in-out infinite;
      pointer-events: none;
    }
    
    @keyframes docScan {
      0% { transform: translateY(-100%); opacity: 0; }
      20% { opacity: 0.7; }
      80% { opacity: 0.7; }
      100% { transform: translateY(100%); opacity: 0; }
    }
    
    /* Confetti animation - Enhanced */
    .confetti-wrapper {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
      z-index: 10000;
    }
    
    /* Comprehensive Status Panel - New */
    .verification-status-panel {
      background: white;
      border-radius: var(--radius-lg);
      margin-bottom: var(--space-6);
      overflow: hidden;
      box-shadow: var(--shadow-card);
      border: 1px solid var(--neutral-200);
    }
    
    .verification-status-header {
      background: linear-gradient(135deg, var(--primary), var(--primary-dark));
      color: white;
      padding: var(--space-4) var(--space-6);
      display: flex;
      align-items: center;
      justify-content: space-between;
    }
    
    .verification-status-title {
      font-size: 1.125rem;
      font-weight: 600;
      display: flex;
      align-items: center;
    }
    
    .verification-status-title i {
      margin-right: var(--space-2);
    }
    
    .verification-status-body {
      padding: var(--space-4) var(--space-6);
    }
    
    .verification-status-items {
      display: flex;
      flex-direction: column;
      gap: var(--space-2);
    }
    
    .verification-status-item {
      display: flex;
      align-items: center;
      padding: var(--space-3);
      border-radius: var(--radius-md);
      background: var(--neutral-50);
      border: 1px solid var(--neutral-200);
      transition: all 0.3s ease;
    }
    
    .verification-status-item:hover {
      transform: translateX(5px);
      box-shadow: var(--shadow-sm);
    }
    
    .verification-status-icon {
      width: 24px;
      height: 24px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      margin-right: var(--space-3);
      flex-shrink: 0;
      font-size: 0.75rem;
    }
    
    .verification-status-content {
      flex: 1;
    }
    
    .verification-status-name {
      font-weight: 500;
      font-size: 0.875rem;
    }
    
    .verification-status-tag {
      display: inline-flex;
      align-items: center;
      padding: 2px 8px;
      border-radius: 20px;
      font-size: 0.6875rem;
      font-weight: 600;
      margin-left: auto;
    }
    
    .verification-status-item.completed {
      background: var(--success-light);
    }
    
    .verification-status-item.completed .verification-status-icon {
      background: var(--success);
      color: white;
    }
    
    .verification-status-item.completed .verification-status-tag {
      background: var(--success);
      color: white;
    }
    
    .verification-status-item.pending {
      background: var(--warning-light);
    }
    
    .verification-status-item.pending .verification-status-icon {
      background: var(--warning);
      color: white;
    }
    
    .verification-status-item.pending .verification-status-tag {
      background: var(--warning);
      color: white;
    }
    
    /* Responsive Styles */
    @media (max-width: 768px) {
      :root {
        --header-height: 60px;
      }
      
      .stepper {
        margin-left: -10px;
        margin-right: -10px;
        overflow-x: auto;
        padding-bottom: var(--space-2);
        justify-content: flex-start;
      }
      
      .step {
        width: 80px;
        flex-shrink: 0;
      }
      
      .step-number {
        width: 30px;
        height: 30px;
        font-size: 0.75rem;
      }
      
      .step-label {
        font-size: 0.6875rem;
      }
      
      .card-body {
        padding: var(--space-4);
      }
      
      .bank-grid {
        grid-template-columns: repeat(auto-fill, minmax(110px, 1fr));
        gap: var(--space-3);
      }
      
      .bank-logo {
        width: 50px;
        height: 50px;
      }
      
      .bank-name {
        font-size: 0.75rem;
      }
      
      .selfie-container {
        height: 300px;
      }
      
      .face-outline {
        width: 160px;
        height: 200px;
      }
      
      .verification-reason {
        flex-direction: column;
        align-items: flex-start;
      }
      
      .verification-reason-icon {
        margin-bottom: var(--space-2);
      }
      
      .feature-grid {
        grid-template-columns: 1fr;
      }
      
      .home-btn span {
        display: none;
      }
      
      .trust-grid {
        grid-template-columns: 1fr;
      }
      
      .progress-indicator {
        flex-direction: column;
        text-align: center;
        align-items: flex-start;
      }
      
      .progress-indicator-icon {
        margin: 0 0 var(--space-3) 0;
      }
    }
    
    @media (max-width: 480px) {
      :root {
        --header-height: 56px;
      }
      
      .header-btn {
        width: 32px;
        height: 32px;
      }
      
      .logo {
        height: 28px;
      }
      
      .auth-header {
        padding: var(--space-4) var(--space-4) var(--space-3);
      }
      
      .auth-form {
        padding: 0 var(--space-4) var(--space-4);
      }
      
      .auth-title {
        font-size: 1.25rem;
      }
      
      .auth-subtitle {
        font-size: 0.875rem;
      }
      
      .card-header {
        padding: var(--space-3) var(--space-4);
      }
      
      .card-title {
        font-size: 1rem;
      }
      
      .step {
        width: 70px;
      }
      
      .step-label {
        font-size: 0.625rem;
      }
      
      .document-preview {
        height: 180px;
      }
      
      .bank-grid {
        grid-template-columns: repeat(auto-fill, minmax(90px, 1fr));
        gap: var(--space-2);
      }
      
      .success-title {
        font-size: 1.5rem;
      }
      
      .success-subtitle {
        font-size: 0.9375rem;
      }
      
      .instruction-card {
        padding: var(--space-4);
      }
      
      .instruction-title {
        font-size: 1.125rem;
      }
    }
  </style>
</head>
<body>
  <!-- Header -->
  <header class="header">
    <div class="header-container">
      <a href="https://remeex.com" class="logo-link">
        <img src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhnBzNdjl6bNp-nIdaiHVENczJhwlJNA7ocsyiOObMmzbu8at0dY5yGcZ9cLxLF39qI6gwNfqBxlkTDC0txVULEwQVwGkeEzN0Jq9MRTRagA48mh18UqTlR4WhsXOLAEZugUyhqJHB19xJgnkpe-S5VOWFgzpKFwctv3XP9XhH41vNTvq0ZS-nik58Qhr-O/s320/remeex.png" alt="REMEEX" class="logo">
      </a>
      <div class="header-actions">
        <a href="https://remeex.com" class="home-btn" title="Ir al inicio">
          <i class="fas fa-home"></i> <span>Inicio</span>
        </a>
        <button class="header-btn" id="help-btn" title="Ayuda">
          <i class="fas fa-question"></i>
        </button>
        <button class="header-btn" id="language-btn" title="Idioma">
          <i class="fas fa-globe"></i>
        </button>
      </div>
    </div>
  </header>

  <!-- Login Container -->
  <div class="auth-container" id="login-container">
    <div class="auth-card">
      <div class="auth-header">
        <div class="auth-logo">
          <img src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhnBzNdjl6bNp-nIdaiHVENczJhwlJNA7ocsyiOObMmzbu8at0dY5yGcZ9cLxLF39qI6gwNfqBxlkTDC0txVULEwQVwGkeEzN0Jq9MRTRagA48mh18UqTlR4WhsXOLAEZugUyhqJHB19xJgnkpe-S5VOWFgzpKFwctv3XP9XhH41vNTvq0ZS-nik58Qhr-O/s320/remeex.png" alt="REMEEX">
        </div>
        <h1 class="auth-title">Verificaci√≥n de Identidad</h1>
        <p class="auth-subtitle">Complete el proceso KYC para activar su tarjeta REMEEX y disfrutar de todos los beneficios</p>
      </div>
      
      <div class="auth-form">
        <div class="flex items-center gap-2 bg-primary-ultralight p-4 rounded-md mb-4 text-sm">
          <i class="fas fa-shield-alt text-primary"></i>
          <div>Sus datos est√°n protegidos con cifrado de nivel bancario SSL 256-bit</div>
        </div>
        
        <form id="login-form">
          <div class="form-group">
            <label class="form-label" for="login-email">
              <i class="fas fa-envelope"></i> Correo Electr√≥nico
            </label>
            <input type="email" class="form-control" id="login-email" placeholder="ejemplo@correo.com" autocomplete="email" required>
            <div class="error-message" id="email-error">Por favor, introduzca un correo electr√≥nico v√°lido.</div>
          </div>
          
          <div class="form-group">
            <label class="form-label" for="login-code">
              <i class="fas fa-key"></i> Clave de Verificaci√≥n
            </label>
            <input type="password" class="form-control" id="login-code" placeholder="Enviada a su correo o SMS" required>
            <div class="error-message" id="code-error">La clave de verificaci√≥n no es v√°lida.</div>
            <div class="form-hint">
              <i class="fas fa-info-circle"></i> 
              La clave fue enviada al correo o n√∫mero de tel√©fono registrado.
            </div>
          </div>
          
          <div class="form-group">
            <button type="button" class="btn btn-primary btn-block" id="login-button">
              <i class="fas fa-sign-in-alt"></i> Iniciar Verificaci√≥n
            </button>
          </div>
        </form>
        
        <div class="text-center mt-6">
          <p class="text-sm text-neutral-600 mb-2">¬øNecesita ayuda con su verificaci√≥n?</p>
          <a href="https://wa.me/+17373018059" class="btn btn-outline" target="_blank" style="max-width: 220px; margin: 0 auto;">
            <i class="fab fa-whatsapp"></i> Contactar Soporte
          </a>
        </div>
      </div>
    </div>
  </div>

  <!-- Verification Container -->
  <div class="main-container hidden" id="verification-container">
    <!-- Stepper -->
    <div class="stepper-container mb-8">
      <div class="stepper">
        <div class="step-progress" id="step-progress"></div>
        <div class="step active" data-step="1">
          <div class="step-number">1</div>
          <div class="step-label">Datos Personales</div>
        </div>
        <div class="step" data-step="2">
          <div class="step-number">2</div>
          <div class="step-label">Documentos de Identidad</div>
        </div>
        <div class="step" data-step="3">
          <div class="step-number">3</div>
          <div class="step-label">Biometr√≠a</div>
        </div>
        <div class="step" data-step="4">
          <div class="step-number">4</div>
          <div class="step-label">Validaci√≥n Bancaria</div>
        </div>
      </div>
    </div>
    
    <!-- Verificaci√≥n Status Panel -->
    <div class="verification-status-panel mb-8" id="verification-status-panel">
      <div class="verification-status-header">
        <div class="verification-status-title">
          <i class="fas fa-tasks"></i> Estado de Verificaci√≥n
        </div>
        <span class="text-sm">Completado: <span id="completion-percentage">0%</span></span>
      </div>
      <div class="verification-status-body">
        <div class="verification-status-items">
          <div class="verification-status-item" id="status-personal-data">
            <div class="verification-status-icon">
              <i class="fas fa-user"></i>
            </div>
            <div class="verification-status-content">
              <div class="verification-status-name">Datos Personales</div>
            </div>
            <span class="verification-status-tag" id="status-tag-personal">Pendiente</span>
          </div>
          
          <div class="verification-status-item" id="status-documents">
            <div class="verification-status-icon">
              <i class="fas fa-id-card"></i>
            </div>
            <div class="verification-status-content">
              <div class="verification-status-name">Documentos de Identidad</div>
            </div>
            <span class="verification-status-tag" id="status-tag-documents">Pendiente</span>
          </div>
          
          <div class="verification-status-item" id="status-biometric">
            <div class="verification-status-icon">
              <i class="fas fa-user-check"></i>
            </div>
            <div class="verification-status-content">
              <div class="verification-status-name">Verificaci√≥n Biom√©trica</div>
            </div>
            <span class="verification-status-tag" id="status-tag-biometric">Pendiente</span>
          </div>
          
          <div class="verification-status-item" id="status-bank">
            <div class="verification-status-icon">
              <i class="fas fa-university"></i>
            </div>
            <div class="verification-status-content">
              <div class="verification-status-name">Datos Bancarios</div>
            </div>
            <span class="verification-status-tag" id="status-tag-bank">Pendiente</span>
          </div>
          
          <div class="verification-status-item pending" id="status-deposit">
            <div class="verification-status-icon">
              <i class="fas fa-money-bill-wave"></i>
            </div>
            <div class="verification-status-content">
              <div class="verification-status-name">Dep√≥sito de Verificaci√≥n</div>
            </div>
            <span class="verification-status-tag" id="status-tag-deposit">Requerido</span>
          </div>
        </div>
      </div>
    </div>

    <!-- Pasos de Verificaci√≥n -->
    <div class="verification-steps-container">
      <!-- Paso 1: Datos Personales -->
      <div class="verification-step active" id="step1">
        <div class="progress-indicator">
          <div class="progress-indicator-icon">
            <i class="fas fa-user"></i>
          </div>
          <div class="progress-indicator-content">
            <div class="progress-indicator-title">Informaci√≥n Personal</div>
            <div class="progress-indicator-text">Proporcione su informaci√≥n personal para comenzar el proceso de verificaci√≥n.</div>
          </div>
        </div>
        
        <div class="card">
          <div class="card-header">
            <h2 class="card-title"><i class="fas fa-user-circle"></i> Datos Personales</h2>
          </div>
          
          <div class="card-body">
            <form id="personal-info-form">
              <div class="form-row">
                <div class="form-col">
                  <div class="form-group">
                    <label class="form-label" for="full-name">
                      <i class="fas fa-user"></i> Nombre Completo
                    </label>
                    <input type="text" class="form-control" id="full-name" placeholder="Tal como aparece en su documento" required autocomplete="name">
                    <div class="error-message" id="name-error">Por favor, introduzca su nombre completo.</div>
                  </div>
                </div>
                
                <div class="form-col">
                  <div class="form-group">
                    <label class="form-label" for="birth-date">
                      <i class="fas fa-calendar-alt"></i> Fecha de Nacimiento
                    </label>
                    <input type="date" class="form-control" id="birth-date" required>
                    <div class="error-message" id="birth-date-error">Por favor, introduzca una fecha v√°lida.</div>
                  </div>
                </div>
              </div>
              
              <div class="form-row">
                <div class="form-col">
                  <div class="form-group">
                    <label class="form-label" for="id-type">
                      <i class="fas fa-id-card"></i> Tipo de Documento
                    </label>
                    <select class="form-control" id="id-type" required>
                      <option value="" selected disabled>Seleccione una opci√≥n</option>
                      <option value="cedula">C√©dula de Identidad</option>
                      <option value="pasaporte">Pasaporte</option>
                      <option value="dni">DNI</option>
                      <option value="otro">Otro Documento</option>
                    </select>
                    <div class="error-message" id="id-type-error">Por favor, seleccione un tipo de documento.</div>
                  </div>
                </div>
                
                <div class="form-col">
                  <div class="form-group">
                    <label class="form-label" for="id-number">
                      <i class="fas fa-fingerprint"></i> N√∫mero de Documento
                    </label>
                    <input type="text" class="form-control" id="id-number" placeholder="Ej: V-12345678" required>
                    <div class="error-message" id="id-number-error">Por favor, introduzca un n√∫mero v√°lido.</div>
                  </div>
                </div>
              </div>
              
              <div class="form-row">
                <div class="form-col">
                  <div class="form-group">
                    <label class="form-label" for="nationality">
                      <i class="fas fa-flag"></i> Nacionalidad
                    </label>
                    <select class="form-control" id="nationality" required>
                      <option value="" selected disabled>Seleccione una opci√≥n</option>
                      <option value="VE">Venezuela</option>
                      <option value="CO">Colombia</option>
                      <option value="US">Estados Unidos</option>
                      <option value="ES">Espa√±a</option>
                      <option value="MX">M√©xico</option>
                      <option value="AR">Argentina</option>
                      <option value="CL">Chile</option>
                      <option value="PE">Per√∫</option>
                      <option value="other">Otro</option>
                    </select>
                    <div class="error-message" id="nationality-error">Por favor, seleccione su nacionalidad.</div>
                  </div>
                </div>
                
                <div class="form-col">
                  <div class="form-group">
                    <label class="form-label" for="phone">
                      <i class="fas fa-phone-alt"></i> N√∫mero de Tel√©fono
                    </label>
                    <input type="tel" class="form-control" id="phone" placeholder="+58 412 1234567" required autocomplete="tel">
                    <div class="error-message" id="phone-error">Por favor, introduzca un n√∫mero v√°lido.</div>
                  </div>
                </div>
              </div>
              
              <div class="form-group">
                <label class="form-label" for="email-confirm">
                  <i class="fas fa-envelope"></i> Correo Electr√≥nico
                </label>
                <input type="email" class="form-control" id="email-confirm" placeholder="ejemplo@correo.com" required autocomplete="email">
                <div class="error-message" id="email-confirm-error">Por favor, introduzca un correo v√°lido.</div>
              </div>
              
              <div class="form-group">
                <label class="form-label" for="address">
                  <i class="fas fa-home"></i> Direcci√≥n de Residencia
                </label>
                <textarea class="form-control" id="address" placeholder="Direcci√≥n completa donde reside actualmente" required autocomplete="street-address"></textarea>
                <div class="error-message" id="address-error">Por favor, introduzca su direcci√≥n completa.</div>
              </div>
            </form>
          </div>
        </div>
        
        <div class="flex justify-end mt-6">
          <button class="btn btn-primary" id="step1-next">
            Continuar <i class="fas fa-arrow-right" style="margin-left: 8px; margin-right: 0;"></i>
          </button>
        </div>
      </div>
      
      <!-- Paso 2: Documentos de Identidad -->
      <div class="verification-step" id="step2">
        <div class="progress-indicator">
          <div class="progress-indicator-icon">
            <i class="fas fa-id-card"></i>
          </div>
          <div class="progress-indicator-content">
            <div class="progress-indicator-title">Documentos de Identidad</div>
            <div class="progress-indicator-text">Necesitamos verificar su identidad a trav√©s de sus documentos oficiales.</div>
          </div>
        </div>
        
        <div class="card">
          <div class="card-header">
            <h2 class="card-title"><i class="fas fa-id-card"></i> Documentos de Identidad</h2>
          </div>
          
          <div class="card-body">
            <p class="text-sm text-neutral-600 mb-4">
              Por favor, suba im√°genes claras de su documento de identidad. Aseg√∫rese de que toda la informaci√≥n sea legible.
            </p>
            
            <div class="tabs" id="document-tabs">
              <div class="tab active" data-tab="personal-id">Documento de identidad</div>
              <div class="tab" data-tab="additional-docs">Documentos adicionales</div>
            </div>
            
            <div class="tab-content active" id="personal-id-tab">
              <!-- Documento Cara Frontal -->
              <div class="mb-6">
                <h3 class="text-md font-semibold mb-2 flex items-center">
                  <i class="fas fa-id-card text-primary mr-2"></i> Cara frontal del documento
                </h3>
                
                <div class="document-upload" id="front-id-upload">
                  <i class="fas fa-upload"></i>
                  <h3 class="document-upload-title">Suba la cara frontal</h3>
                  <p class="document-upload-text">Haga clic aqu√≠ o arrastre la imagen. Formatos: JPG, PNG o PDF.</p>
                  <input type="file" id="front-id-file" accept="image/*,.pdf">
                </div>
                
                <div class="document-preview" id="front-id-preview">
                  <img id="front-id-image" src="#" alt="Vista previa documento frontal">
                  <div class="scan-overlay">
                    <div class="scan-line"></div>
                  </div>
                  <div class="doc-scanning-effect"></div>
                  <div class="analysis-overlay" id="front-id-analysis">
                    <div class="analysis-spinner" id="front-id-spinner"></div>
                    <div class="analysis-status" id="front-id-status">Analizando documento...</div>
                  </div>
                  <div class="document-preview-actions">
                    <button class="document-preview-btn" id="rotate-front" title="Rotar">
                      <i class="fas fa-sync-alt"></i>
                    </button>
                    <button class="document-preview-btn remove" id="remove-front" title="Eliminar">
                      <i class="fas fa-trash-alt"></i>
                    </button>
                  </div>
                </div>
                
                <div class="error-message" id="front-id-error">Por favor, suba la cara frontal de su documento.</div>
              </div>
              
              <!-- Documento Cara Posterior -->
              <div class="mb-4">
                <h3 class="text-md font-semibold mb-2 flex items-center">
                  <i class="fas fa-id-card text-primary mr-2"></i> Cara posterior del documento
                </h3>
                
                <div class="document-upload" id="back-id-upload">
                  <i class="fas fa-upload"></i>
                  <h3 class="document-upload-title">Suba la cara posterior</h3>
                  <p class="document-upload-text">Haga clic aqu√≠ o arrastre la imagen. Formatos: JPG, PNG o PDF.</p>
                  <input type="file" id="back-id-file" accept="image/*,.pdf">
                </div>
                
                <div class="document-preview" id="back-id-preview">
                  <img id="back-id-image" src="#" alt="Vista previa documento posterior">
                  <div class="scan-overlay">
                    <div class="scan-line"></div>
                  </div>
                  <div class="doc-scanning-effect"></div>
                  <div class="analysis-overlay" id="back-id-analysis">
                    <div class="analysis-spinner" id="back-id-spinner"></div>
                    <div class="analysis-status" id="back-id-status">Analizando documento...</div>
                  </div>
                  <div class="document-preview-actions">
                    <button class="document-preview-btn" id="rotate-back" title="Rotar">
                      <i class="fas fa-sync-alt"></i>
                    </button>
                    <button class="document-preview-btn remove" id="remove-back" title="Eliminar">
                      <i class="fas fa-trash-alt"></i>
                    </button>
                  </div>
                </div>
                
                <div class="error-message" id="back-id-error">Por favor, suba la cara posterior de su documento.</div>
              </div>
              
              <div class="form-hint mt-2">
                <i class="fas fa-info-circle"></i> 
                Aseg√∫rese de que su documento sea visible en su totalidad y que la informaci√≥n sea legible.
              </div>
            </div>
            
            <div class="tab-content" id="additional-docs-tab">
              <div class="mb-6">
                <h3 class="text-md font-semibold mb-2 flex items-center">
                  <i class="fas fa-file-alt text-primary mr-2"></i> Comprobante de domicilio
                </h3>
                
                <div class="document-upload" id="address-doc-upload">
                  <i class="fas fa-file-upload"></i>
                  <h3 class="document-upload-title">Suba su comprobante de domicilio</h3>
                  <p class="document-upload-text">Factura de servicios, extracto bancario, etc. (Opcional)</p>
                  <input type="file" id="address-doc-file" accept="image/*,.pdf">
                </div>
                
                <div class="document-preview" id="address-doc-preview">
                  <img id="address-doc-image" src="#" alt="Vista previa comprobante de domicilio">
                  <div class="scan-overlay">
                    <div class="scan-line"></div>
                  </div>
                  <div class="doc-scanning-effect"></div>
                  <div class="analysis-overlay" id="address-doc-analysis">
                    <div class="analysis-spinner" id="address-doc-spinner"></div>
                    <div class="analysis-status" id="address-doc-status">Analizando documento...</div>
                  </div>
                  <div class="document-preview-actions">
                    <button class="document-preview-btn" id="rotate-address" title="Rotar">
                      <i class="fas fa-sync-alt"></i>
                    </button>
                    <button class="document-preview-btn remove" id="remove-address" title="Eliminar">
                      <i class="fas fa-trash-alt"></i>
                    </button>
                  </div>
                </div>
              </div>
              
              <div class="mb-4">
                <h3 class="text-md font-semibold mb-2 flex items-center">
                  <i class="fas fa-file-invoice-dollar text-primary mr-2"></i> Comprobante de ingresos
                </h3>
                
                <div class="document-upload" id="income-doc-upload">
                  <i class="fas fa-file-upload"></i>
                  <h3 class="document-upload-title">Suba su comprobante de ingresos</h3>
                  <p class="document-upload-text">Recibo de n√≥mina, extracto bancario, etc. (Opcional)</p>
                  <input type="file" id="income-doc-file" accept="image/*,.pdf">
                </div>
                
                <div class="document-preview" id="income-doc-preview">
                  <img id="income-doc-image" src="#" alt="Vista previa comprobante de ingresos">
                  <div class="scan-overlay">
                    <div class="scan-line"></div>
                  </div>
                  <div class="doc-scanning-effect"></div>
                  <div class="analysis-overlay" id="income-doc-analysis">
                    <div class="analysis-spinner" id="income-doc-spinner"></div>
                    <div class="analysis-status" id="income-doc-status">Analizando documento...</div>
                  </div>
                  <div class="document-preview-actions">
                    <button class="document-preview-btn" id="rotate-income" title="Rotar">
                      <i class="fas fa-sync-alt"></i>
                    </button>
                    <button class="document-preview-btn remove" id="remove-income" title="Eliminar">
                      <i class="fas fa-trash-alt"></i>
                    </button>
                  </div>
                </div>
              </div>
              
              <div class="form-hint mt-2">
                <i class="fas fa-info-circle"></i>
                Los documentos adicionales ayudan a acelerar su proceso de verificaci√≥n y aumentan los l√≠mites de transacci√≥n.
              </div>
            </div>
          </div>
        </div>
        
        <!-- Status Indicator -->
        <div class="status-complete status-indicator mt-4" id="documents-validated-status" style="display: none;">
          <div class="status-indicator-icon">
            <i class="fas fa-check"></i>
          </div>
          <div class="status-content">
            <div class="status-title">Documentos Verificados Exitosamente</div>
            <div class="status-text">Hemos validado sus documentos correctamente. Puede continuar con el siguiente paso.</div>
          </div>
        </div>
        
        <div class="flex items-center bg-primary-ultralight p-4 rounded-md mt-4">
          <i class="fas fa-shield-alt text-primary text-xl mr-3"></i>
          <div class="text-sm">
            <div class="font-semibold mb-1">Sus documentos est√°n seguros</div>
            <div class="text-neutral-600">Todos los documentos son encriptados y almacenados de manera segura siguiendo est√°ndares internacionales de protecci√≥n de datos.</div>
          </div>
        </div>
        
        <div class="flex justify-between mt-6">
          <button class="btn btn-outline" id="step2-back">
            <i class="fas fa-arrow-left"></i> Atr√°s
          </button>
          <button class="btn btn-primary" id="step2-next">
            Continuar <i class="fas fa-arrow-right" style="margin-left: 8px; margin-right: 0;"></i>
          </button>
        </div>
      </div>
      
      <!-- Paso 3: Biometr√≠a -->
      <div class="verification-step" id="step3">
        <div class="progress-indicator">
          <div class="progress-indicator-icon">
            <i class="fas fa-user-check"></i>
          </div>
          <div class="progress-indicator-content">
            <div class="progress-indicator-title">Verificaci√≥n Biom√©trica</div>
            <div class="progress-indicator-text">Necesitamos verificar que usted es el titular del documento mediante una selfie.</div>
          </div>
        </div>
        
        <div class="card">
          <div class="card-header">
            <h2 class="card-title"><i class="fas fa-camera"></i> Verificaci√≥n Facial</h2>
          </div>
          
          <div class="card-body">
            <p class="text-sm text-neutral-600 mb-4">
              Necesitamos tomar una selfie para verificar que usted es el titular del documento de identidad proporcionado.
            </p>
            
            <div class="flex items-center p-4 bg-success-light rounded-md mb-6" style="border-left: 3px solid var(--success);">
              <i class="fas fa-check-circle text-success text-xl mr-3"></i>
              <div class="text-sm">
                <div class="font-semibold text-success mb-1">Consejos para una buena selfie</div>
                <div class="text-neutral-600">Aseg√∫rese de estar en un lugar bien iluminado, mire directamente a la c√°mara y no use accesorios que cubran su rostro.</div>
              </div>
            </div>
            
            <!-- Captura de Selfie -->
            <div class="selfie-container" id="selfie-container">
              <video id="webcam" class="selfie-video" autoplay playsinline></video>
              <div class="selfie-overlay">
                <div class="face-outline"></div>
                <div class="face-scan-effect"></div>
                <div class="biometric-points" id="biometric-points"></div>
              </div>
              <div class="selfie-instructions">
                Centre su rostro en el √≥valo y mantenga la cabeza quieta
              </div>
              <div class="selfie-counter" id="selfie-counter">3</div>
            </div>
            
            <div class="flex gap-4 mb-6">
              <button class="btn btn-secondary" id="switch-camera" style="flex: 1;">
                <i class="fas fa-sync-alt"></i> Cambiar c√°mara
              </button>
              <button class="btn btn-primary" id="take-selfie" style="flex: 2;">
                <i class="fas fa-camera"></i> Tomar selfie
              </button>
            </div>
            
            <div class="document-preview" id="selfie-preview">
              <img id="selfie-image" src="#" alt="Vista previa selfie">
              <div class="scan-overlay">
                <div class="scan-line"></div>
              </div>
              <div class="analysis-overlay" id="selfie-analysis">
                <div class="analysis-spinner" id="selfie-spinner"></div>
                <div class="analysis-status" id="selfie-status">Verificando rostro...</div>
              </div>
              <div class="document-preview-actions">
                <button class="document-preview-btn remove" id="remove-selfie" title="Eliminar">
                  <i class="fas fa-trash-alt"></i>
                </button>
              </div>
            </div>
            
            <div class="error-message" id="selfie-error">Por favor, tome una selfie para continuar.</div>
          </div>
        </div>
        
        <!-- Status Indicator -->
        <div class="status-complete status-indicator mt-4" id="biometric-validated-status" style="display: none;">
          <div class="status-indicator-icon">
            <i class="fas fa-check"></i>
          </div>
          <div class="status-content">
            <div class="status-title">Verificaci√≥n Biom√©trica Exitosa</div>
            <div class="status-text">Hemos verificado correctamente que usted es el titular del documento. Puede continuar con el siguiente paso.</div>
          </div>
        </div>
        
        <div class="flex justify-between mt-6">
          <button class="btn btn-outline" id="step3-back">
            <i class="fas fa-arrow-left"></i> Atr√°s
          </button>
          <button class="btn btn-primary" id="step3-next">
            Continuar <i class="fas fa-arrow-right" style="margin-left: 8px; margin-right: 0;"></i>
          </button>
        </div>
      </div>
      
      <!-- Paso 4: Validaci√≥n Bancaria -->
      <div class="verification-step" id="step4">
        <div class="progress-indicator">
          <div class="progress-indicator-icon">
            <i class="fas fa-university"></i>
          </div>
          <div class="progress-indicator-content">
            <div class="progress-indicator-title">Informaci√≥n Bancaria</div>
            <div class="progress-indicator-text">Proporcione sus datos bancarios para completar transferencias y pagos.</div>
          </div>
        </div>
        
        <div class="card">
          <div class="card-header">
            <h2 class="card-title"><i class="fas fa-university"></i> Informaci√≥n Bancaria</h2>
          </div>
          
          <div class="card-body">
            <p class="text-sm text-neutral-600 mb-4">
              Seleccione su banco principal y proporcione los datos de su cuenta para transacciones y verificaci√≥n.
            </p>
            
            <form id="bank-info-form">
              <div class="form-group">
                <label class="form-label">
                  <i class="fas fa-landmark"></i> Banco Principal
                </label>
                <div class="bank-grid" id="bank-grid" role="radiogroup">
                  <!-- Bancos populares -->
                  <div class="bank-option" data-bank="banesco" tabindex="0" role="radio" aria-checked="false">
                    <img src="https://www.banesco.com/wp-content/uploads/2020/11/Isotipo.png" class="bank-logo" alt="Banesco">
                    <div class="bank-name">Banesco</div>
                  </div>
                  
                  <div class="bank-option" data-bank="provincial" tabindex="0" role="radio" aria-checked="false">
                    <img src="https://upload.wikimedia.org/wikipedia/commons/d/d4/BBVAprovinciallogo.svg" class="bank-logo" alt="Provincial">
                    <div class="bank-name">Provincial</div>
                  </div>
                  
                  <div class="bank-option" data-bank="mercantil" tabindex="0" role="radio" aria-checked="false">
                    <img src="https://files.socialgest.net/mybio/5f529398b36f8_1599247256.png" class="bank-logo" alt="Mercantil">
                    <div class="bank-name">Mercantil</div>
                  </div>
                  
                  <div class="bank-option" data-bank="venezuela" tabindex="0" role="radio" aria-checked="false">
                    <img src="https://www.bancodevenezuela.com/wp-content/uploads/2023/03/logonuevo.png" class="bank-logo" alt="Banco de Venezuela">
                    <div class="bank-name">Venezuela</div>
                  </div>
                  
                  <div class="bank-option" data-bank="bnc" tabindex="0" role="radio" aria-checked="false">
                    <img src="https://www.bncenlinea.com/images/default-source/misc/BNCLogo_rebrand.png" class="bank-logo" alt="BNC">
                    <div class="bank-name">BNC</div>
                  </div>
                  
                  <div class="bank-option" data-bank="bancaribe" tabindex="0" role="radio" aria-checked="false">
                    <img src="https://d3olc33sy92l9e.cloudfront.net/wp-content/themes/bancaribe/images/Bancaribe-LogotipoTurquesa.png" class="bank-logo" alt="Bancaribe">
                    <div class="bank-name">Bancaribe</div>
                  </div>
                  
                  <div class="bank-option" data-bank="bancrecer" tabindex="0" role="radio" aria-checked="false">
                    <img src="https://www.bancrecer.com.ve/images/img/bancrecer-logo.png" class="bank-logo" alt="Bancrecer">
                    <div class="bank-name">Bancrecer</div>
                  </div>
                  
                  <div class="bank-option" data-bank="100banco" tabindex="0" role="radio" aria-checked="false">
                    <img src="https://www.100x100banco.com/img/logo.png" class="bank-logo" alt="100% Banco">
                    <div class="bank-name">100% Banco</div>
                  </div>
                  
                  <div class="bank-option" data-bank="otro" tabindex="0" role="radio" aria-checked="false">
                    <i class="fas fa-university" style="font-size: 2rem; color: var(--primary); margin-bottom: 0.5rem;"></i>
                    <div class="bank-name">Otro Banco</div>
                  </div>
                </div>
                
                <div class="error-message" id="bank-error">Por favor, seleccione un banco.</div>
              </div>
              
              <div class="form-row mt-4">
                <div class="form-col">
                  <div class="form-group">
                    <label class="form-label" for="account-type">
                      <i class="fas fa-wallet"></i> Tipo de Cuenta
                    </label>
                    <select class="form-control" id="account-type" required>
                      <option value="" selected disabled>Seleccione una opci√≥n</option>
                      <option value="ahorro">Cuenta de Ahorro</option>
                      <option value="corriente">Cuenta Corriente</option>
                    </select>
                    <div class="error-message" id="account-type-error">Por favor, seleccione el tipo de cuenta.</div>
                  </div>
                </div>
                
                <div class="form-col">
                  <div class="form-group">
                    <label class="form-label" for="account-number">
                      <i class="fas fa-credit-card"></i> N√∫mero de Cuenta
                    </label>
                    <input type="text" class="form-control" id="account-number" placeholder="Ej: 0134-0000-00-0000000000" required>
                    <div class="error-message" id="account-number-error">Por favor, introduzca un n√∫mero de cuenta v√°lido.</div>
                  </div>
                </div>
              </div>
              
              <div class="form-group">
                <label class="form-label" for="account-holder">
                  <i class="fas fa-user"></i> Titular de la Cuenta
                </label>
                <input type="text" class="form-control" id="account-holder" placeholder="Nombre completo del titular de la cuenta" required>
                <div class="error-message" id="account-holder-error">Por favor, introduzca el nombre del titular.</div>
                <div class="form-hint">
                  <i class="fas fa-info-circle"></i>
                  El titular debe coincidir con el nombre en su documento de identidad.
                </div>
              </div>
              
              <!-- Secci√≥n de Verificaci√≥n de Cuenta -->
              <div class="verification-section">
                <h3 class="text-lg font-semibold text-primary mb-4 flex items-center">
                  <i class="fas fa-shield-alt mr-2"></i> Verificaci√≥n de Titularidad de Cuenta
                </h3>
                
                <div class="status-pending status-indicator mb-4">
                  <div class="status-indicator-icon">
                    <i class="fas fa-exclamation-circle"></i>
                  </div>
                  <div class="status-content">
                    <div class="status-title">Paso pendiente: Dep√≥sito de verificaci√≥n</div>
                    <div class="status-text">Para completar la verificaci√≥n de su cuenta, deber√° realizar un dep√≥sito desde su cuenta bancaria para confirmar que es el titular.</div>
                  </div>
                </div>
                
                <p class="text-sm text-neutral-600 mb-4">
                  Para garantizar la seguridad de sus fondos y verificar que usted es el titular de la cuenta bancaria, necesitar√° realizar un peque√±o dep√≥sito de verificaci√≥n.
                </p>
                
                <div class="verification-reason">
                  <div class="verification-reason-icon">
                    <i class="fas fa-shield-alt"></i>
                  </div>
                  <div>
                    <div class="verification-reason-title">Para su Seguridad</div>
                    <p class="text-sm text-neutral-600">Este dep√≥sito confirma que la cuenta bancaria es realmente suya y evita fraudes. Es una pr√°ctica est√°ndar internacional de verificaci√≥n KYC/AML.</p>
                  </div>
                </div>
                
                <div class="verification-reason">
                  <div class="verification-reason-icon">
                    <i class="fas fa-money-bill-wave"></i>
                  </div>
                  <div>
                    <div class="verification-reason-title">No es una Comisi√≥n</div>
                    <p class="text-sm text-neutral-600">El dep√≥sito de $25 USD (aproximadamente Bs. 2.955,50 a tasa actual de Bs. 118,22) se suma √≠ntegramente a su saldo disponible en REMEEX. ¬°Sigue siendo su dinero!</p>
                  </div>
                </div>
                
                <div class="verification-reason">
                  <div class="verification-reason-icon">
                    <i class="fas fa-check-circle"></i>
                  </div>
                  <div>
                    <div class="verification-reason-title">Una Sola Vez</div>
                    <p class="text-sm text-neutral-600">Solo necesita realizar este dep√≥sito una vez para cada cuenta bancaria que quiera registrar. La verificaci√≥n es permanente.</p>
                  </div>
                </div>
                
                <div class="custom-checkbox-group mt-4">
                  <label class="custom-checkbox">
                    <input type="checkbox" id="verification-agreement" required>
                    <span class="checkmark"></span>
                    Entiendo que debo realizar un dep√≥sito de verificaci√≥n de $25 USD (Bs. 2.955,50) desde mi cuenta bancaria a REMEEX para completar el proceso de verificaci√≥n y que este monto se sumar√° a mi saldo disponible.
                  </label>
                  <div class="error-message" id="verification-agreement-error">Debe aceptar realizar el dep√≥sito de verificaci√≥n.</div>
                </div>
              </div>
            </form>
          </div>
        </div>
        
        <!-- FAQ Section -->
        <div class="faq-container">
          <div class="faq-header">
            <h3 class="faq-title">Preguntas frecuentes sobre verificaci√≥n bancaria</h3>
            <p class="faq-subtitle">Resolvemos sus principales dudas sobre el proceso</p>
          </div>
          
          <div class="faq-item">
            <div class="faq-question">
              ¬øPor qu√© necesito hacer un dep√≥sito de verificaci√≥n?
              <i class="fas fa-chevron-down"></i>
            </div>
            <div class="faq-answer">
              <p>El dep√≥sito de verificaci√≥n es una medida de seguridad dise√±ada para <strong>proteger su dinero y confirmar que la cuenta bancaria a la que desea retirar fondos es realmente suya</strong>.</p>
              <p>Similar a como cuando confirma su direcci√≥n antes de recibir un paquete valioso, este proceso nos permite verificar de forma segura que usted controla la cuenta bancaria y as√≠ evitar que alguien intente desviar su dinero a una cuenta desconocida o fraudulenta.</p>
              <div class="highlight-box">
                <strong>Importante:</strong> Este dep√≥sito de $25 USD (Bs. 2.955,50) se suma completamente a su saldo disponible en REMEEX. ¬°No pierde ni un centavo!
              </div>
            </div>
          </div>
          
          <div class="faq-item">
            <div class="faq-question">
              ¬øEstos $25 son una comisi√≥n escondida?
              <i class="fas fa-chevron-down"></i>
            </div>
            <div class="faq-answer">
              <p><strong>¬°Rotundamente NO!</strong> Los $25 USD (Bs. 2.955,50) <strong>NO son una comisi√≥n ni un cobro</strong>. Es √∫nicamente un dep√≥sito de <em>verificaci√≥n</em>. En el mismo instante en que lo recibimos, esos $25 USD se suman <strong>completamente a su saldo disponible</strong> en su cuenta REMEEX.</p>
              <p>Sigue siendo su dinero, listo para usarse en cualquier momento una vez que su cuenta est√© verificada.</p>
            </div>
          </div>
          
          <div class="faq-item">
            <div class="faq-question">
              ¬øTendr√© que hacer este dep√≥sito cada vez que quiera retirar dinero?
              <i class="fas fa-chevron-down"></i>
            </div>
            <div class="faq-answer">
              <p><strong>¬°No, para nada!</strong> Este proceso de verificaci√≥n con el dep√≥sito de $25 USD (Bs. 2.955,50) se realiza <strong>UNA SOLA VEZ por cada cuenta bancaria</strong> que quiera registrar y vincular a REMEEX.</p>
              <p>Una vez que su cuenta bancaria est√° verificada y guardada de forma segura, podr√° realizar retiros a esa cuenta de manera r√°pida y sencilla, sin tener que repetir el dep√≥sito para esa cuenta espec√≠fica.</p>
            </div>
          </div>
        </div>
        
        <!-- Trust Signals -->
        <div class="trust-grid">
          <div class="trust-item">
            <div class="trust-icon">
              <i class="fas fa-shield-alt"></i>
            </div>
            <div>
              <div class="trust-title">Est√°ndar de Seguridad</div>
              <div class="trust-text">Pr√°ctica com√∫n en plataformas financieras internacionales como Wise y PayPal.</div>
            </div>
          </div>
          
          <div class="trust-item">
            <div class="trust-icon">
              <i class="fas fa-lock"></i>
            </div>
            <div>
              <div class="trust-title">Datos Protegidos</div>
              <div class="trust-text">Toda su informaci√≥n se guarda con encriptaci√≥n de nivel bancario.</div>
            </div>
          </div>
          
          <div class="trust-item">
            <div class="trust-icon">
              <i class="fas fa-user-check"></i>
            </div>
            <div>
              <div class="trust-title">Verificaci√≥n √önica</div>
              <div class="trust-text">Realizada solo una vez por cada cuenta bancaria que registre.</div>
            </div>
          </div>
        </div>
        
        <div class="flex justify-between mt-6">
          <button class="btn btn-outline" id="step4-back">
            <i class="fas fa-arrow-left"></i> Atr√°s
          </button>
          <button class="btn btn-primary" id="complete-verification">
            <i class="fas fa-check-circle"></i> Completar Verificaci√≥n
          </button>
        </div>
      </div>
    </div>
    
    <!-- Verificaci√≥n Completada -->
    <div class="success-container" id="verification-complete">
      <div class="success-icon">
        <i class="fas fa-check"></i>
      </div>
      
      <h2 class="success-title">¬°Verificaci√≥n en Proceso!</h2>
      <p class="success-subtitle">
        Hemos validado correctamente sus documentos y datos personales. Solo queda pendiente el dep√≥sito de verificaci√≥n para activar completamente su cuenta REMEEX.
      </p>
      
      <!-- Verification Progress -->
      <div class="verification-progress mb-8">
        <h3 class="verification-progress-title">
          <i class="fas fa-tasks"></i> Estado del proceso de verificaci√≥n
        </h3>
        
        <div class="verification-progress-items">
          <div class="verification-progress-item verification-item-complete">
            <div class="verification-item-icon">
              <i class="fas fa-check"></i>
            </div>
            <div class="verification-item-content">
              <div class="verification-item-title">
                Informaci√≥n personal verificada
                <span class="verification-badge verification-badge-complete">Completado</span>
              </div>
            </div>
          </div>
          
          <div class="verification-progress-item verification-item-complete">
            <div class="verification-item-icon">
              <i class="fas fa-check"></i>
            </div>
            <div class="verification-item-content">
              <div class="verification-item-title">
                Documentos de identidad validados
                <span class="verification-badge verification-badge-complete">Completado</span>
              </div>
            </div>
          </div>
          
          <div class="verification-progress-item verification-item-complete">
            <div class="verification-item-icon">
              <i class="fas fa-check"></i>
            </div>
            <div class="verification-item-content">
              <div class="verification-item-title">
                Verificaci√≥n biom√©trica exitosa
                <span class="verification-badge verification-badge-complete">Completado</span>
              </div>
            </div>
          </div>
          
          <div class="verification-progress-item verification-item-complete">
            <div class="verification-item-icon">
              <i class="fas fa-check"></i>
            </div>
            <div class="verification-item-content">
              <div class="verification-item-title">
                Cuenta bancaria registrada
                <span class="verification-badge verification-badge-complete">Completado</span>
              </div>
            </div>
          </div>
          
          <div class="verification-progress-item verification-item-required">
            <div class="verification-item-icon">
              <i class="fas fa-exclamation-triangle"></i>
            </div>
            <div class="verification-item-content">
              <div class="verification-item-title">
                Dep√≥sito de verificaci√≥n bancaria
                <span class="verification-badge verification-badge-required">Pendiente</span>
              </div>
            </div>
          </div>
        </div>
      </div>
      
      <div class="instruction-card">
        <h3 class="instruction-title">√öltimo paso para activar su cuenta</h3>
        
        <ol class="instruction-steps">
          <li>Inicie sesi√≥n en su cuenta REMEEX a trav√©s del portal principal.</li>
          <li>En el panel de control, busque la opci√≥n "Recargar Saldo" y haga clic en ella.</li>
          <li>Seleccione el m√©todo de pago "Pago M√≥vil" para realizar el dep√≥sito de verificaci√≥n.</li>
          <li>Siga las instrucciones en pantalla para completar el pago de $25 USD (Bs. 2.955,50) de verificaci√≥n.</li>
          <li>Una vez confirmado el pago, su cuenta quedar√° totalmente verificada y podr√° disfrutar de todas las funcionalidades.</li>
        </ol>

        <!-- Instrucciones detalladas -->
        <div class="recharge-container">
          <h4 class="recharge-title">
            <i class="fas fa-mobile-alt"></i> Instrucciones para completar la verificaci√≥n
          </h4>
          
          <div class="mt-4">
            <div class="recharge-step">
              <div class="recharge-step-number">1</div>
              <div>
                <div class="recharge-step-title">Ingrese al portal principal de REMEEX</div>
                <p class="text-sm text-neutral-600">Acceda a su cuenta con el correo y contrase√±a que registr√≥ previamente.</p>
              </div>
            </div>
            
            <div class="recharge-step">
              <div class="recharge-step-number">2</div>
              <div>
                <div class="recharge-step-title">Vaya a la secci√≥n "Recargar Saldo"</div>
                <p class="text-sm text-neutral-600">Encontrar√° esta opci√≥n en el men√∫ principal o en su panel de usuario.</p>
              </div>
            </div>
            
            <div class="recharge-step">
              <div class="recharge-step-number">3</div>
              <div>
                <div class="recharge-step-title">Seleccione "Pago M√≥vil" como m√©todo</div>
                <p class="text-sm text-neutral-600">Aseg√∫rese de utilizar la misma cuenta bancaria que registr√≥ en esta verificaci√≥n.</p>
              </div>
            </div>
            
            <div class="recharge-step">
              <div class="recharge-step-number">4</div>
              <div>
                <div class="recharge-step-title">Ingrese el monto de verificaci√≥n: $25 USD (Bs. 2.955,50)</div>
                <p class="text-sm text-neutral-600">Este monto se acreditar√° a su saldo disponible en REMEEX una vez verificado.</p>
              </div>
            </div>
            
            <div class="recharge-step">
              <div class="recharge-step-number">5</div>
              <div>
                <div class="recharge-step-title">Utilice su c√≥digo de referencia personal</div>
                <div class="text-sm text-neutral-600">
                  Su c√≥digo de verificaci√≥n es: <span id="deposit-reference" class="deposit-reference">VER78945</span>
                </div>
              </div>
            </div>
          </div>
        </div>
        
        <div class="feature-grid">
          <div class="feature-item">
            <div class="feature-icon">
              <i class="fas fa-shield-alt"></i>
            </div>
            <h4 class="feature-title">Cuenta Verificada</h4>
            <p class="feature-desc">Una vez completado el dep√≥sito, su cuenta ser√° verificada autom√°ticamente.</p>
            <span class="badge badge-primary">
              <i class="fas fa-check-circle"></i> Seguridad
            </span>
          </div>
          
          <div class="feature-item">
            <div class="feature-icon">
              <i class="fas fa-wallet"></i>
            </div>
            <h4 class="feature-title">Saldo Disponible</h4>
            <p class="feature-desc">El dep√≥sito de verificaci√≥n de $25 USD (Bs. 2.955,50) se acreditar√° a su saldo.</p>
            <span class="badge badge-success">
              <i class="fas fa-plus-circle"></i> Beneficio
            </span>
          </div>
          
          <div class="feature-item">
            <div class="feature-icon">
              <i class="fas fa-unlock-alt"></i>
            </div>
            <h4 class="feature-title">Funcionalidades Completas</h4>
            <p class="feature-desc">Acceda a todas las funcionalidades y beneficios de su cuenta REMEEX.</p>
            <span class="badge badge-primary">
              <i class="fas fa-star"></i> Premium
            </span>
          </div>
        </div>
        
        <div class="flex gap-2 items-center justify-center text-sm text-neutral-600 mt-6">
          <i class="fas fa-envelope"></i>
          Le hemos enviado un correo electr√≥nico con estas instrucciones para facilitar su proceso de verificaci√≥n.
        </div>
      </div>
      
      <div class="flex flex-wrap gap-4 justify-center max-w-lg mx-auto">
        <a href="https://wa.me/+17373018059" class="btn btn-outline" target="_blank" style="flex: 1; min-width: 140px;">
          <i class="fab fa-whatsapp"></i> Contactar Soporte
        </a>
        <a href="https://remeex.com" class="btn btn-primary" style="flex: 2; min-width: 200px;">
          <i class="fas fa-home"></i> Ir al Portal Principal
        </a>
      </div>
    </div>
  </div>

  <!-- Toast Container -->
  <div class="toast-container" id="toast-container"></div>

  <!-- Loading Overlay -->
  <div class="loading-overlay" id="loading-overlay">
    <div class="loading-content">
      <div class="spinner-container">
        <div class="spinner"></div>
        <div class="spinner-inner"></div>
        <div class="spinner-core"></div>
      </div>
      <div class="loading-text" id="loading-text">Procesando su informaci√≥n</div>
      <div class="loading-subtext" id="loading-subtext">Esto puede tomar unos momentos. Por favor, no cierre esta ventana.</div>
      <div class="progress-bar-container">
        <div class="progress-bar" id="progress-bar"></div>
      </div>
    </div>
  </div>

  <!-- WhatsApp Button -->
  <div class="whatsapp-btn" id="whatsapp-btn">
    <div class="whatsapp-tooltip">¬øNecesita ayuda? Cont√°ctenos</div>
    <a href="https://wa.me/+17373018059" target="_blank" aria-label="Contactar soporte por WhatsApp">
      <i class="fab fa-whatsapp"></i>
    </a>
  </div>

  <!-- Confetti Wrapper -->
  <div class="confetti-wrapper" id="confetti-wrapper"></div>

  <!-- JavaScript -->
  <script>
    // Variables globales
    let userData = {};
    let currentStep = 1;
    const totalSteps = 4;
    let webcam = null;
    let fileUploads = {
      frontId: false,
      backId: false,
      selfie: false
    };
    
    // Tasa de cambio
    const exchangeRate = 118.22; // Bs por USD
    
    // Funci√≥n para actualizar el panel de estado general
    function updateVerificationStatus() {
      // Calcular porcentaje de compleci√≥n
      let completedSteps = 0;
      const totalRequiredSteps = 5; // Incluye el dep√≥sito de verificaci√≥n
      
      // Contar pasos completados
      if (document.getElementById('status-personal-data').classList.contains('completed')) completedSteps++;
      if (document.getElementById('status-documents').classList.contains('completed')) completedSteps++;
      if (document.getElementById('status-biometric').classList.contains('completed')) completedSteps++;
      if (document.getElementById('status-bank').classList.contains('completed')) completedSteps++;
      if (document.getElementById('status-deposit').classList.contains('completed')) completedSteps++;
      
      // Actualizar porcentaje
      const percentage = Math.floor((completedSteps / totalRequiredSteps) * 100);
      document.getElementById('completion-percentage').textContent = `${percentage}%`;
    }
    
    // Marcar un paso como completado en el panel de estado
    function markStepComplete(stepId, isCompleted = true) {
      const step = document.getElementById(stepId);
      const statusTag = document.getElementById(`status-tag-${stepId.replace('status-', '')}`);
      
      if (step && statusTag) {
        if (isCompleted) {
          step.classList.add('completed');
          step.classList.remove('pending');
          statusTag.textContent = 'Completado';
          statusTag.classList.add('verification-status-completed');
        } else {
          step.classList.remove('completed');
          statusTag.textContent = 'Pendiente';
          statusTag.classList.remove('verification-status-completed');
        }
        
        updateVerificationStatus();
      }
    }
    
    // Inicializar animaciones Lottie para los spinners de an√°lisis
    function initLottieAnimations() {
      try {
        // Spinner para documentos frontales
        lottie.loadAnimation({
          container: document.getElementById('front-id-spinner'),
          renderer: 'svg',
          loop: true,
          autoplay: true,
          path: 'https://assets1.lottiefiles.com/packages/lf20_OT15QW.json'
        });
        
        // Spinner para documentos posteriores
        lottie.loadAnimation({
          container: document.getElementById('back-id-spinner'),
          renderer: 'svg',
          loop: true,
          autoplay: true,
          path: 'https://assets1.lottiefiles.com/packages/lf20_OT15QW.json'
        });
        
        // Spinner para selfie
        lottie.loadAnimation({
          container: document.getElementById('selfie-spinner'),
          renderer: 'svg',
          loop: true,
          autoplay: true,
          path: 'https://assets8.lottiefiles.com/packages/lf20_pEcYK5.json'
        });
        
        // Spinner para documentos adicionales
        lottie.loadAnimation({
          container: document.getElementById('address-doc-spinner'),
          renderer: 'svg',
          loop: true,
          autoplay: true,
          path: 'https://assets1.lottiefiles.com/packages/lf20_OT15QW.json'
        });
        
        lottie.loadAnimation({
          container: document.getElementById('income-doc-spinner'),
          renderer: 'svg',
          loop: true,
          autoplay: true,
          path: 'https://assets1.lottiefiles.com/packages/lf20_OT15QW.json'
        });
      } catch (error) {
        console.error("Error al cargar animaciones Lottie:", error);
        // Usar un fallback en caso de error
        const spinners = document.querySelectorAll('.analysis-spinner');
        spinners.forEach(spinner => {
          spinner.innerHTML = '<div class="spinner" style="width: 30px; height: 30px;"></div>';
        });
      }
    }
    
    // Formatear montos
    function formatCurrency(amount, currency = 'USD') {
      return new Intl.NumberFormat('es-VE', {
        style: 'currency',
        currency: currency,
        minimumFractionDigits: 2
      }).format(amount);
    }
    
    // Mostrar toast mejorado
    function showToast(type, title, message, duration = 3000) {
      const toastContainer = document.getElementById('toast-container');
      
      // Limitar a m√°ximo 3 toasts visibles
      if (document.querySelectorAll('.toast').length >= 3) {
        const oldestToast = document.querySelector('.toast');
        if (oldestToast) removeToast(oldestToast);
      }
      
      const toast = document.createElement('div');
      toast.className = `toast ${type}`;
      toast.setAttribute('role', 'alert');
      
      // Sanitizar contenido
      const safeTitle = title.replace(/&/g, "&amp;").replace(/</g, "&lt;").replace(/>/g, "&gt;");
      const safeMessage = message.replace(/&/g, "&amp;").replace(/</g, "&lt;").replace(/>/g, "&gt;");
      
      let iconClass = 'info-circle';
      if (type === 'success') iconClass = 'check-circle';
      else if (type === 'error') iconClass = 'exclamation-circle';
      else if (type === 'warning') iconClass = 'exclamation-triangle';
      
      const content = `
        <div class="toast-icon">
          <i class="fas fa-${iconClass}"></i>
        </div>
        <div class="toast-content">
          <div class="toast-title">${safeTitle}</div>
          <div class="toast-message">${safeMessage}</div>
        </div>
        <button class="toast-close" aria-label="Cerrar">
          <i class="fas fa-times"></i>
        </button>
        <div class="toast-progress"></div>
      `;
      
      toast.innerHTML = content;
      toastContainer.appendChild(toast);
      
      // Animar entrada
      gsap.fromTo(toast, 
        { x: 50, opacity: 0 }, 
        { x: 0, opacity: 1, duration: 0.3, ease: 'power2.out' }
      );
      
      // Auto remove
      const autoRemoveTimeout = setTimeout(() => {
        removeToast(toast);
      }, duration);
      
      // Close button
      const closeBtn = toast.querySelector('.toast-close');
      if (closeBtn) {
        closeBtn.addEventListener('click', function() {
          clearTimeout(autoRemoveTimeout);
          removeToast(toast);
        });
      }
      
      return toast;
    }
    
    // Remover toast con animaci√≥n
    function removeToast(toast) {
      gsap.to(toast, {
        x: 50, 
        opacity: 0, 
        duration: 0.3, 
        ease: 'power2.in',
        onComplete: () => {
          if (toast.parentNode) toast.parentNode.removeChild(toast);
        }
      });
    }
    
    // Mostrar loading mejorado
    function showLoading(message = 'Procesando su informaci√≥n', submessage = 'Esto puede tomar unos momentos. Por favor, no cierre esta ventana.', progress = 0) {
      const loadingOverlay = document.getElementById('loading-overlay');
      const loadingText = document.getElementById('loading-text');
      const loadingSubtext = document.getElementById('loading-subtext');
      const progressBar = document.getElementById('progress-bar');
      
      if (loadingText) loadingText.textContent = message;
      if (loadingSubtext) loadingSubtext.textContent = submessage;
      if (progressBar) progressBar.style.width = `${progress}%`;
      
      loadingOverlay.style.display = 'flex';
      gsap.fromTo(loadingOverlay,
        { opacity: 0 },
        { opacity: 1, duration: 0.3, ease: 'power2.out' }
      );
      
      document.body.style.overflow = 'hidden';
    }
    
    // Ocultar loading con animaci√≥n
    function hideLoading() {
      const loadingOverlay = document.getElementById('loading-overlay');
      
      gsap.to(loadingOverlay, { 
        opacity: 0, 
        duration: 0.3,
        ease: 'power2.in',
        onComplete: () => {
          loadingOverlay.style.display = 'none';
          document.body.style.overflow = '';
        }
      });
    }
    
    // Animar progreso con GSAP
    function animateProgress(start, end, duration, onUpdate, onComplete) {
      const progressObj = { value: start };
      
      gsap.to(progressObj, {
        value: end,
        duration: duration / 1000,
        ease: "power1.inOut",
        onUpdate: function() {
          const progress = Math.round(progressObj.value);
          const progressBar = document.getElementById('progress-bar');
          if (progressBar) progressBar.style.width = `${progress}%`;
          if (onUpdate) onUpdate(progress);
        },
        onComplete: onComplete
      });
    }
    
    // Ir a paso espec√≠fico con animaci√≥n mejorada
    function goToStep(step) {
      if (step === currentStep) return;
      if (step < 1 || step > totalSteps) return;
      
      window.scrollTo({ top: 0, behavior: 'smooth' });
      
      const prevStep = currentStep;
      currentStep = step;
      
      const currentStepElement = document.getElementById(`step${prevStep}`);
      const nextStepElement = document.getElementById(`step${step}`);
      
      if (!currentStepElement || !nextStepElement) return;
      
      const direction = step > prevStep ? 1 : -1;
      
      currentStepElement.classList.remove('active');
      nextStepElement.classList.add('active');
      
      // Animaci√≥n m√°s suave con GSAP
      gsap.fromTo(nextStepElement,
        { opacity: 0, x: 20 * direction, scale: 0.98 },
        { opacity: 1, x: 0, scale: 1, duration: 0.4, ease: 'power2.out' }
      );
      
      updateStepper(step);
    }
    
    // Actualizar stepper con animaci√≥n mejorada
    function updateStepper(currentStep) {
      document.querySelectorAll('.step').forEach(step => {
        const stepNumber = parseInt(step.getAttribute('data-step'));
        
        step.classList.remove('active', 'completed');
        
        if (stepNumber < currentStep) {
          step.classList.add('completed');
        } else if (stepNumber === currentStep) {
          step.classList.add('active');
        }
      });
      
      const stepProgress = document.getElementById('step-progress');
      if (stepProgress) {
        const progressPercentage = ((currentStep - 1) / (totalSteps - 1)) * 100;
        
        gsap.to(stepProgress, {
          width: `${progressPercentage}%`,
          duration: 0.5,
          ease: 'power2.inOut'
        });
      }
    }
    
    // Validar pasos
    function validateStep(step) {
      let isValid = true;
      
      document.querySelectorAll(`#step${step} .form-group`).forEach(group => {
        group.classList.remove('error', 'success');
      });
      
      switch(step) {
        case 1:
          isValid = validateStep1();
          if (isValid) {
            markStepComplete('status-personal-data', true);
          }
          break;
        case 2:
          isValid = validateStep2();
          if (isValid) {
            markStepComplete('status-documents', true);
            const docStatus = document.getElementById('documents-validated-status');
            if (docStatus) docStatus.style.display = 'flex';
          }
          break;
        case 3:
          isValid = validateStep3();
          if (isValid) {
            markStepComplete('status-biometric', true);
            const bioStatus = document.getElementById('biometric-validated-status');
            if (bioStatus) bioStatus.style.display = 'flex';
          }
          break;
        case 4:
          isValid = validateStep4();
          if (isValid) {
            markStepComplete('status-bank', true);
          }
          break;
      }
      
      return isValid;
    }
    
    // Validar paso 1 con animaci√≥n de errores
    function validateStep1() {
      let isValid = true;
      const form = document.getElementById('personal-info-form');
      
      const requiredFields = form.querySelectorAll('[required]');
      requiredFields.forEach(field => {
        const formGroup = field.closest('.form-group');
        
        if (!field.value.trim()) {
          formGroup.classList.add('error');
          animateErrorField(field);
          isValid = false;
        } else {
          if (field.id === 'email-confirm') {
            const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            if (!emailRegex.test(field.value)) {
              formGroup.classList.add('error');
              animateErrorField(field);
              isValid = false;
            } else {
              formGroup.classList.add('success');
              animateSuccessField(field);
            }
          } else if (field.id === 'phone') {
            if (field.value.replace(/\D/g, '').length < 6) {
              formGroup.classList.add('error');
              animateErrorField(field);
              isValid = false;
            } else {
              formGroup.classList.add('success');
              animateSuccessField(field);
            }
          } else if (field.id === 'full-name') {
            if (field.value.trim().split(/\s+/).length < 2) {
              formGroup.classList.add('error');
              animateErrorField(field);
              isValid = false;
            } else {
              formGroup.classList.add('success');
              animateSuccessField(field);
            }
          } else if (field.id === 'address') {
            if (field.value.trim().length < 10) {
              formGroup.classList.add('error');
              animateErrorField(field);
              isValid = false;
            } else {
              formGroup.classList.add('success');
              animateSuccessField(field);
            }
          } else {
            formGroup.classList.add('success');
            animateSuccessField(field);
          }
        }
      });
      
      return isValid;
    }
    
    // Animar campo con error
    function animateErrorField(field) {
      gsap.fromTo(field, 
        { x: 0 }, 
        { x: 5, duration: 0.1, repeat: 3, yoyo: true, ease: 'power2.inOut' }
      );
    }
    
    // Animar campo exitoso
    function animateSuccessField(field) {
      gsap.fromTo(field, 
        { scale: 1 }, 
        { scale: 1.02, duration: 0.2, yoyo: true, repeat: 1, ease: 'power2.out' }
      );
    }
    
    // Validar paso 2 con animaciones
    function validateStep2() {
      let isValid = true;
      
      const frontIdError = document.getElementById('front-id-error');
      if (!fileUploads.frontId) {
        if (frontIdError) frontIdError.style.display = 'block';
        animateErrorElement(document.getElementById('front-id-upload'));
        isValid = false;
      } else {
        if (frontIdError) frontIdError.style.display = 'none';
      }
      
      const backIdError = document.getElementById('back-id-error');
      if (!fileUploads.backId) {
        if (backIdError) backIdError.style.display = 'block';
        animateErrorElement(document.getElementById('back-id-upload'));
        isValid = false;
      } else {
        if (backIdError) backIdError.style.display = 'none';
      }
      
      return isValid;
    }
    
    // Animar elemento con error
    function animateErrorElement(element) {
      if (!element) return;
      
      gsap.fromTo(element, 
        { borderColor: 'var(--danger)', backgroundColor: 'var(--danger-light)' }, 
        { borderColor: 'var(--neutral-400)', backgroundColor: 'var(--neutral-100)', duration: 1, ease: 'power2.out' }
      );
    }
    
    // Validar paso 3
    function validateStep3() {
      let isValid = true;
      
      const selfieError = document.getElementById('selfie-error');
      if (!fileUploads.selfie) {
        if (selfieError) selfieError.style.display = 'block';
        animateErrorElement(document.getElementById('selfie-container'));
        isValid = false;
      } else {
        if (selfieError) selfieError.style.display = 'none';
      }
      
      return isValid;
    }
    
    // Validar paso 4
    function validateStep4() {
      let isValid = true;
      const form = document.getElementById('bank-info-form');
      
      const selectedBank = document.querySelector('.bank-option.active');
      const bankError = document.getElementById('bank-error');
      
      if (!selectedBank) {
        if (bankError) bankError.style.display = 'block';
        animateErrorElement(document.getElementById('bank-grid'));
        isValid = false;
      } else {
        if (bankError) bankError.style.display = 'none';
      }
      
      const requiredFields = form.querySelectorAll('[required]');
      requiredFields.forEach(field => {
        const formGroup = field.closest('.form-group');
        
        if (!field.checked && field.type === 'checkbox') {
          const errorElement = document.getElementById(`${field.id}-error`);
          if (errorElement) errorElement.style.display = 'block';
          animateErrorField(field.parentNode);
          isValid = false;
        } else if (!field.value.trim() && field.type !== 'checkbox') {
          formGroup.classList.add('error');
          animateErrorField(field);
          isValid = false;
        } else {
          if (field.id === 'account-number') {
            if (field.value.replace(/\D/g, '').length < 16) {
              formGroup.classList.add('error');
              animateErrorField(field);
              isValid = false;
            } else {
              formGroup.classList.add('success');
              animateSuccessField(field);
            }
          } else if (field.id === 'account-holder') {
            if (field.value.trim().split(/\s+/).length < 2) {
              formGroup.classList.add('error');
              animateErrorField(field);
              isValid = false;
            } else {
              formGroup.classList.add('success');
              animateSuccessField(field);
            }
          } else if (field.id === 'verification-agreement') {
            const errorElement = document.getElementById(`${field.id}-error`);
            if (errorElement) errorElement.style.display = 'none';
          } else if (field.type !== 'checkbox') {
            formGroup.classList.add('success');
            animateSuccessField(field);
          }
        }
      });
      
      return isValid;
    }
    
    // Simular detecci√≥n de puntos en documentos
    function simulateDocumentDetection(containerId, callback) {
      const container = document.getElementById(containerId);
      if (!container) return;
      
      // Generar puntos de detecci√≥n
      const detectionPoints = [];
      const numPoints = 8 + Math.floor(Math.random() * 6); // 8-12 puntos
      
      for (let i = 0; i < numPoints; i++) {
        const point = document.createElement('div');
        point.className = 'detection-point';
        const left = 10 + Math.random() * 80; // 10-90%
        const top = 10 + Math.random() * 80; // 10-90%
        
        point.style.left = `${left}%`;
        point.style.top = `${top}%`;
        
        container.appendChild(point);
        detectionPoints.push(point);
      }
      
      // Simular detecci√≥n de rect√°ngulos
      const numRects = 1 + Math.floor(Math.random() * 3);
      const detectionRects = [];
      
      for (let i = 0; i < numRects; i++) {
        const rect = document.createElement('div');
        rect.className = 'detection-rect';
        
        const width = 20 + Math.random() * 40; // 20-60%
        const height = 5 + Math.random() * 20; // 5-25%
        const left = 10 + Math.random() * (90 - width); // Ajustar para no salirse
        const top = 10 + Math.random() * (90 - height);
        
        rect.style.width = `${width}%`;
        rect.style.height = `${height}%`;
        rect.style.left = `${left}%`;
        rect.style.top = `${top}%`;
        
        container.appendChild(rect);
        detectionRects.push(rect);
      }
      
      // Animar aparici√≥n de puntos
      detectionPoints.forEach((point, index) => {
        setTimeout(() => {
          gsap.fromTo(point,
            { opacity: 0, scale: 0.5 },
            { 
              opacity: 1, 
              scale: 1, 
              duration: 0.3,
              delay: index * 0.1,
              onComplete: () => {
                gsap.to(point, { 
                  animation: 'pulsePoint 1.5s infinite',
                  duration: 0
                });
              }
            }
          );
        }, 200 + Math.random() * 1000);
      });
      
      // Animar aparici√≥n de rect√°ngulos
      detectionRects.forEach((rect, index) => {
        setTimeout(() => {
          gsap.fromTo(rect,
            { opacity: 0 },
            { 
              opacity: 1, 
              duration: 0.4,
              delay: index * 0.2 + 0.5,
              onComplete: () => {
                gsap.to(rect, { 
                  borderColor: 'var(--success)',
                  boxShadow: '0 0 15px rgba(0,200,151,0.6)',
                  duration: 0.3
                });
              }
            }
          );
        }, 800 + Math.random() * 1200);
      });
      
      // Finalizar detecci√≥n
      setTimeout(() => {
        if (callback) callback();
      }, 3000);
    }
    
    // Configurar carga de documentos
    function setupDocumentUploads() {
      setupFileUpload('front-id-upload', 'front-id-file', 'front-id-preview', 'front-id-image', 'front-id-analysis', 'frontId');
      setupFileUpload('back-id-upload', 'back-id-file', 'back-id-preview', 'back-id-image', 'back-id-analysis', 'backId');
      setupFileUpload('address-doc-upload', 'address-doc-file', 'address-doc-preview', 'address-doc-image', 'address-doc-analysis');
      setupFileUpload('income-doc-upload', 'income-doc-file', 'income-doc-preview', 'income-doc-image', 'income-doc-analysis');
      
      const tabItems = document.querySelectorAll('#document-tabs .tab');
      tabItems.forEach(tab => {
        tab.addEventListener('click', function() {
          const tabId = this.getAttribute('data-tab');
          
          tabItems.forEach(t => t.classList.remove('active'));
          document.querySelectorAll('.tab-content').forEach(c => c.classList.remove('active'));
          
          this.classList.add('active');
          document.getElementById(`${tabId}-tab`).classList.add('active');
          
          // Animaci√≥n con GSAP
          gsap.fromTo(`#${tabId}-tab`,
            { opacity: 0, y: 10 },
            { opacity: 1, y: 0, duration: 0.3, ease: 'power2.out' }
          );
        });
      });
    }
    
    // Configurar carga individual
    function setupFileUpload(uploaderId, fileInputId, previewContainerId, previewImageId, analysisOverlayId, uploadKey) {
      const uploader = document.getElementById(uploaderId);
      const fileInput = document.getElementById(fileInputId);
      const previewContainer = document.getElementById(previewContainerId);
      const previewImage = document.getElementById(previewImageId);
      const analysisOverlay = document.getElementById(analysisOverlayId);
      
      if (uploader && fileInput) {
        uploader.addEventListener('click', function() {
          fileInput.click();
        });
        
        uploader.addEventListener('dragover', function(e) {
          e.preventDefault();
          this.style.borderColor = 'var(--primary)';
          this.style.backgroundColor = 'rgba(0,133,255,0.05)';
        });
        
        uploader.addEventListener('dragleave', function(e) {
          e.preventDefault();
          this.style.borderColor = 'var(--neutral-400)';
          this.style.backgroundColor = 'var(--neutral-100)';
        });
        
        uploader.addEventListener('drop', function(e) {
          e.preventDefault();
          this.style.borderColor = 'var(--neutral-400)';
          this.style.backgroundColor = 'var(--neutral-100)';
          
          if (e.dataTransfer.files.length) {
            fileInput.files = e.dataTransfer.files;
            handleFileSelected(fileInput, previewContainer, previewImage, analysisOverlay, uploadKey);
          }
        });
        
        fileInput.addEventListener('change', function() {
          handleFileSelected(this, previewContainer, previewImage, analysisOverlay, uploadKey);
        });
      }
      
      if (previewContainer) {
        const removeBtn = previewContainer.querySelector('.remove');
        if (removeBtn) {
          removeBtn.addEventListener('click', function() {
            gsap.to(previewContainer, {
              opacity: 0,
              y: -10,
              duration: 0.3,
              ease: 'power2.in',
              onComplete: () => {
                previewContainer.classList.remove('active');
                fileInput.value = '';
                if (uploadKey) fileUploads[uploadKey] = false;
                
                gsap.to(uploader, { 
                  opacity: 1, 
                  height: 'auto',
                  padding: '24px 16px',
                  duration: 0.3,
                  ease: 'power2.out'
                });
              }
            });
          });
        }
        
        const rotateBtn = previewContainer.querySelector('[id^="rotate-"]');
        if (rotateBtn) {
          let rotation = 0;
          rotateBtn.addEventListener('click', function() {
            rotation += 90;
            gsap.to(previewImage, {
              rotation: rotation,
              duration: 0.3,
              ease: 'power2.inOut'
            });
          });
        }
      }
    }
    
    // Manejar archivo seleccionado
    function handleFileSelected(fileInput, previewContainer, previewImage, analysisOverlay, uploadKey) {
      if (fileInput.files && fileInput.files[0]) {
        const file = fileInput.files[0];
        const uploader = document.getElementById(fileInput.id.replace('-file', '-upload'));
        
        const allowedTypes = ['image/jpeg', 'image/png', 'image/gif', 'image/webp', 'application/pdf'];
        if (!allowedTypes.includes(file.type)) {
          showToast('error', 'Formato no soportado', 'Por favor, suba un archivo de imagen (JPG, PNG) o PDF.');
          return;
        }
        
        if (file.size > 5 * 1024 * 1024) {
          showToast('error', 'Archivo muy grande', 'El tama√±o m√°ximo permitido es 5MB.');
          return;
        }
        
        if (uploader) {
          gsap.to(uploader, { 
            opacity: 0, 
            height: 0,
            padding: 0,
            duration: 0.3,
            ease: 'power2.in'
          });
        }
        
        if (file.type.startsWith('image/')) {
          const reader = new FileReader();
          reader.onload = function(e) {
            showPreview(e.target.result, previewContainer, previewImage, analysisOverlay, uploadKey);
          };
          reader.readAsDataURL(file);
        } else if (file.type === 'application/pdf') {
          showPreview('https://cdn-icons-png.flaticon.com/512/337/337946.png', previewContainer, previewImage, analysisOverlay, uploadKey);
        }
      }
    }
    
    // Mostrar preview con an√°lisis mejorado
    function showPreview(src, previewContainer, previewImage, analysisOverlay, uploadKey) {
      previewImage.src = src;
      previewImage.onload = function() {
        if (!previewContainer.classList.contains('active')) {
          previewContainer.classList.add('active');
          gsap.fromTo(previewContainer,
            { opacity: 0, y: 10 },
            { opacity: 1, y: 0, duration: 0.3, ease: 'power2.out' }
          );
        }
        
        // Mostrar overlay de an√°lisis
        if (analysisOverlay) {
          analysisOverlay.classList.add('active');
          
          // Actualizar status de an√°lisis seg√∫n el tipo de documento
          let statusText = "Analizando documento...";
          if (uploadKey === 'frontId') {
            statusText = "Verificando documento frontal...";
            document.getElementById('front-id-status').textContent = statusText;
          } else if (uploadKey === 'backId') {
            statusText = "Verificando documento posterior...";
            document.getElementById('back-id-status').textContent = statusText;
          } else if (uploadKey === 'selfie') {
            statusText = "Verificando identidad facial...";
            document.getElementById('selfie-status').textContent = statusText;
          }
          
          // Realizar an√°lisis simulado
          setTimeout(() => {
            if (uploadKey === 'frontId' || uploadKey === 'backId') {
              // Cambiar texto de an√°lisis
              const statusElement = document.getElementById(`${uploadKey === 'frontId' ? 'front' : 'back'}-id-status`);
              if (statusElement) {
                statusElement.textContent = "Extrayendo informaci√≥n...";
              }
              
              // Simular detecci√≥n de elementos en documento
              simulateDocumentDetection(previewContainer.id, () => {
                // Finalizar an√°lisis
                if (statusElement) {
                  statusElement.textContent = "¬°Documento verificado correctamente!";
                }
                
                // Ocultar overlay de an√°lisis progresivamente
                setTimeout(() => {
                  gsap.to(analysisOverlay, {
                    opacity: 0,
                    duration: 0.5,
                    onComplete: () => {
                      analysisOverlay.classList.remove('active');
                    }
                  });
                  
                  if (uploadKey) fileUploads[uploadKey] = true;
                  showToast('success', 'Documento verificado', 'El documento ha sido validado correctamente');
                }, 1000);
              });
            } else if (uploadKey === 'selfie') {
              // Simular an√°lisis facial
              const statusElement = document.getElementById('selfie-status');
              if (statusElement) {
                statusElement.textContent = "Comparando con documento...";
              }
              
              setTimeout(() => {
                if (statusElement) {
                  statusElement.textContent = "¬°Verificaci√≥n facial exitosa!";
                }
                
                // Ocultar overlay progresivamente
                setTimeout(() => {
                  gsap.to(analysisOverlay, {
                    opacity: 0,
                    duration: 0.5,
                    onComplete: () => {
                      analysisOverlay.classList.remove('active');
                    }
                  });
                  
                  if (uploadKey) fileUploads[uploadKey] = true;
                  showToast('success', 'Identidad verificada', 'Verificaci√≥n biom√©trica completada correctamente');
                }, 1000);
              }, 2000);
            } else {
              // Para otros tipos de documentos
              if (analysisOverlay) {
                setTimeout(() => {
                  gsap.to(analysisOverlay, {
                    opacity: 0,
                    duration: 0.5,
                    onComplete: () => {
                      analysisOverlay.classList.remove('active');
                    }
                  });
                  showToast('success', 'Documento cargado', 'El documento ha sido procesado correctamente');
                }, 2000);
              }
            }
          }, 1500);
        } else {
          // Sin overlay de an√°lisis
          if (uploadKey) fileUploads[uploadKey] = true;
          showToast('success', 'Documento cargado', 'La imagen se ha procesado correctamente');
        }
      };
      
      previewImage.onerror = function() {
        showToast('error', 'Error de carga', 'No se pudo cargar la imagen. Por favor, intente con otro archivo.');
        if (uploadKey) fileUploads[uploadKey] = false;
        
        const uploader = document.getElementById(previewImage.id.replace('-image', '-upload'));
        if (uploader) {
          gsap.to(uploader, { 
            opacity: 1, 
            height: 'auto',
            padding: '24px 16px',
            duration: 0.3
          });
        }
      };
    }
    
    // Crear puntos biom√©tricos animados
    function createBiometricPoints() {
      const container = document.getElementById('biometric-points');
      if (!container) return;
      
      container.innerHTML = '';
      
      // Posiciones clave en el rostro
      const keyPositions = [
        {x: 50, y: 35}, // Nariz
        {x: 40, y: 45}, // Ojo izquierdo
        {x: 60, y: 45}, // Ojo derecho
        {x: 40, y: 30}, // Ceja izquierda
        {x: 60, y: 30}, // Ceja derecha
        {x: 50, y: 60}, // Boca
        {x: 40, y: 60}, // Comisura izquierda
        {x: 60, y: 60}, // Comisura derecha
        {x: 30, y: 50}, // Mejilla izquierda
        {x: 70, y: 50}, // Mejilla derecha
        {x: 50, y: 20}, // Frente
        {x: 50, y: 75}, // Barbilla
        {x: 30, y: 35}, // Sien izquierda
        {x: 70, y: 35}, // Sien derecha
        {x: 20, y: 50}, // Borde izquierdo cara
        {x: 80, y: 50}  // Borde derecho cara
      ];
      
      // Agregar variaciones aleatorias
      for (let i = 0; i < 10; i++) {
        keyPositions.push({
          x: 20 + Math.random() * 60,
          y: 20 + Math.random() * 60
        });
      }
      
      // Crear puntos
      keyPositions.forEach((pos, index) => {
        const point = document.createElement('div');
        point.className = 'biometric-point';
        
        // Agregar variaci√≥n peque√±a
        const x = pos.x + (Math.random() * 4 - 2);
        const y = pos.y + (Math.random() * 4 - 2);
        
        point.style.left = `${x}%`;
        point.style.top = `${y}%`;
        
        container.appendChild(point);
        
        // Animaci√≥n con delay progresivo
        setTimeout(() => {
          gsap.to(point, {
            opacity: 0.8,
            duration: 0.2,
            onComplete: () => {
              // Pulso continuo
              gsap.to(point, {
                opacity: 0.3,
                duration: 1,
                repeat: -1,
                yoyo: true
              });
            }
          });
        }, 100 + index * 50);
      });
    }
    
    // Inicializar webcam mejorada
    function initializeWebcam() {
      const webcamElement = document.getElementById('webcam');
      const canvasElement = document.createElement('canvas');
      const selfiePreview = document.getElementById('selfie-preview');
      const selfieImage = document.getElementById('selfie-image');
      const selfieContainer = document.getElementById('selfie-container');
      const selfieAnalysis = document.getElementById('selfie-analysis');
      
      if (!webcamElement) return;
      
      const addCameraPermissionButton = () => {
        const selfieTools = document.querySelector('#step3 .flex.gap-4');
        if (!selfieTools) return;
        
        selfieTools.innerHTML = `
          <button class="btn btn-primary btn-block">
            <i class="fas fa-camera"></i> Permitir acceso a la c√°mara
          </button>
        `;
        
        const permissionBtn = selfieTools.querySelector('button');
        if (permissionBtn) {
          permissionBtn.addEventListener('click', function() {
            startWebcam();
          });
        }
      };
      
      const startWebcam = () => {
        try {
          webcam = new Webcam(webcamElement, 'user', canvasElement);
          
          webcam.start()
            .then(result => {
              showToast('info', 'C√°mara activada', 'Posicione su rostro dentro del marco y tome la selfie');
              
              const selfieTools = document.querySelector('#step3 .flex.gap-4');
              if (selfieTools) {
                selfieTools.innerHTML = `
                  <button class="btn btn-secondary" id="switch-camera" style="flex: 1;">
                    <i class="fas fa-sync-alt"></i> Cambiar c√°mara
                  </button>
                  <button class="btn btn-primary" id="take-selfie" style="flex: 2;">
                    <i class="fas fa-camera"></i> Tomar selfie
                  </button>
                `;
              }
              
              setupSelfieButtons();
              
              // Crear puntos biom√©tricos
              createBiometricPoints();
              
              // Activar efecto de escaneo facial
              const scanEffect = document.querySelector('.face-scan-effect');
              if (scanEffect) scanEffect.style.animation = 'faceScan 2s ease-in-out infinite';
            })
            .catch(err => {
              console.error("Error al iniciar la webcam:", err);
              showToast('error', 'Error de c√°mara', 'No se pudo acceder a la c√°mara. Por favor, permita el acceso o utilice otro dispositivo.');
              addCameraPermissionButton();
            });
        } catch (error) {
          console.error("Error al inicializar webcam:", error);
          showToast('error', 'Error de inicializaci√≥n', 'No se pudo inicializar la c√°mara. Por favor, intente en otro navegador o dispositivo.');
          
          // Implementaci√≥n de fallback para la selfie
          const selfieTools = document.querySelector('#step3 .flex.gap-4');
          if (selfieTools) {
            selfieTools.innerHTML = `
              <button class="btn btn-primary btn-block" id="upload-selfie">
                <i class="fas fa-upload"></i> Subir selfie desde archivo
              </button>
            `;
            
            const uploadSelfieBtn = document.getElementById('upload-selfie');
            if (uploadSelfieBtn) {
              uploadSelfieBtn.addEventListener('click', function() {
                const fileInput = document.createElement('input');
                fileInput.type = 'file';
                fileInput.accept = 'image/*';
                fileInput.style.display = 'none';
                document.body.appendChild(fileInput);
                
                fileInput.addEventListener('change', function() {
                  if (this.files && this.files[0]) {
                    const reader = new FileReader();
                    reader.onload = function(e) {
                      selfieImage.src = e.target.result;
                      
                      selfieContainer.style.display = 'none';
                      selfiePreview.classList.add('active');
                      
                      // Simular an√°lisis facial
                      if (selfieAnalysis) {
                        selfieAnalysis.classList.add('active');
                        
                        setTimeout(() => {
                          document.getElementById('selfie-status').textContent = "Verificando identidad...";
                          
                          setTimeout(() => {
                            document.getElementById('selfie-status').textContent = "¬°Verificaci√≥n facial exitosa!";
                            
                            setTimeout(() => {
                              gsap.to(selfieAnalysis, {
                                opacity: 0,
                                duration: 0.5,
                                onComplete: () => {
                                  selfieAnalysis.classList.remove('active');
                                  fileUploads.selfie = true;
                                  showToast('success', 'Verificaci√≥n completada', 'Su identidad ha sido verificada correctamente');
                                  
                                  const selfieError = document.getElementById('selfie-error');
                                  if (selfieError) selfieError.style.display = 'none';
                                }
                              });
                            }, 1000);
                          }, 1500);
                        }, 1000);
                      }
                    };
                    reader.readAsDataURL(this.files[0]);
                  }
                });
                
                fileInput.click();
                document.body.removeChild(fileInput);
              });
            }
          }
        }
      };
      
      const setupSelfieButtons = () => {
        const switchCameraBtn = document.getElementById('switch-camera');
        if (switchCameraBtn) {
          switchCameraBtn.addEventListener('click', function() {
            if (webcam) {
              webcam.stop();
              webcam.flip();
              webcam.start().then(() => {
                // Recrear efecto biom√©trico
                createBiometricPoints();
              });
            }
          });
        }
        
        const takeSelfieBtn = document.getElementById('take-selfie');
        if (takeSelfieBtn) {
          takeSelfieBtn.addEventListener('click', function() {
            const selfieCounter = document.getElementById('selfie-counter');
            selfieCounter.classList.add('active');
            
            this.disabled = true;
            
            // Contar desde 3 a 1
            let count = 3;
            selfieCounter.textContent = count;
            
            const countdown = setInterval(() => {
              count--;
              if (count > 0) {
                selfieCounter.textContent = count;
              } else {
                clearInterval(countdown);
                
                // Tomar foto con flash
                gsap.to(selfieContainer, {
                  backgroundColor: 'white',
                  duration: 0.1,
                  onComplete: () => {
                    try {
                      const picture = webcam.snap();
                      selfieImage.src = picture;
                      
                      gsap.to(selfieContainer, {
                        backgroundColor: 'transparent',
                        duration: 0.2
                      });
                      
                      gsap.to(selfieContainer, {
                        opacity: 0,
                        duration: 0.3,
                        onComplete: () => {
                          selfieContainer.style.display = 'none';
                          selfiePreview.classList.add('active');
                          gsap.fromTo(selfiePreview,
                            { opacity: 0, scale: 0.95 },
                            { opacity: 1, scale: 1, duration: 0.3, ease: 'power2.out' }
                          );
                          
                          // Mostrar overlay de an√°lisis
                          if (selfieAnalysis) {
                            selfieAnalysis.classList.add('active');
                            
                            // Iniciar an√°lisis facial
                            setTimeout(() => {
                              document.getElementById('selfie-status').textContent = "Verificando identidad...";
                              
                              setTimeout(() => {
                                document.getElementById('selfie-status').textContent = "Comparando con documento...";
                                
                                setTimeout(() => {
                                  document.getElementById('selfie-status').textContent = "¬°Verificaci√≥n facial exitosa!";
                                  
                                  setTimeout(() => {
                                    gsap.to(selfieAnalysis, {
                                      opacity: 0,
                                      duration: 0.5,
                                      onComplete: () => {
                                        selfieAnalysis.classList.remove('active');
                                        
                                        fileUploads.selfie = true;
                                        
                                        if (webcam) webcam.stop();
                                        
                                        this.disabled = false;
                                        
                                        showToast('success', 'Verificaci√≥n completada', 'Su identidad ha sido verificada correctamente');
                                        
                                        const selfieError = document.getElementById('selfie-error');
                                        if (selfieError) selfieError.style.display = 'none';
                                      }
                                    });
                                  }, 1000);
                                }, 1500);
                              }, 1500);
                            }, 1000);
                          }
                        }
                      });
                      
                      setTimeout(() => {
                        selfieCounter.classList.remove('active');
                      }, 500);
                    } catch (error) {
                      console.error("Error al tomar selfie:", error);
                      showToast('error', 'Error al tomar selfie', 'Por favor, intente nuevamente o use otro navegador');
                      this.disabled = false;
                      selfieCounter.classList.remove('active');
                    }
                  }
                });
              }
            }, 1000);
          });
        }
      };
      
      const removeSelfieBtn = document.getElementById('remove-selfie');
      if (removeSelfieBtn) {
        removeSelfieBtn.addEventListener('click', function() {
          gsap.to(selfiePreview, {
            opacity: 0,
            scale: 0.95,
            duration: 0.3,
            ease: 'power2.in',
            onComplete: () => {
              selfiePreview.classList.remove('active');
              selfieContainer.style.display = 'block';
              gsap.fromTo(selfieContainer,
                { opacity: 0 },
                { opacity: 1, duration: 0.3, ease: 'power2.out' }
              );
              
              startWebcam();
              
              fileUploads.selfie = false;
              
              const selfieError = document.getElementById('selfie-error');
              if (selfieError) selfieError.style.display = 'block';
            }
          });
        });
      }
      
      startWebcam();
    }
    
    // Configurar selecci√≥n de banco con animaciones
    function setupBankSelection() {
      const bankOptions = document.querySelectorAll('.bank-option');
      if (bankOptions.length === 0) return;
      
      bankOptions.forEach(option => {
        option.addEventListener('click', function() {
          bankOptions.forEach(opt => {
            if (opt !== this) {
              gsap.to(opt, {
                scale: 1,
                boxShadow: 'var(--shadow-sm)',
                duration: 0.3,
                ease: 'power2.out'
              });
              opt.classList.remove('active');
              opt.setAttribute('aria-checked', 'false');
            }
          });
          
          this.classList.add('active');
          this.setAttribute('aria-checked', 'true');
          gsap.to(this, {
            scale: 1.05,
            boxShadow: 'var(--shadow-md)',
            duration: 0.3,
            ease: 'power2.out'
          });
          
          const bankName = this.querySelector('.bank-name').textContent;
          showToast('success', 'Banco seleccionado', `Ha seleccionado ${bankName}`);
          
          const bankError = document.getElementById('bank-error');
          if (bankError) bankError.style.display = 'none';
        });
        
        option.addEventListener('keydown', function(e) {
          if (e.key === 'Enter' || e.key === ' ') {
            e.preventDefault();
            this.click();
          }
        });
        
        // Hover effect
        option.addEventListener('mouseenter', function() {
          if (!this.classList.contains('active')) {
            gsap.to(this, {
              y: -5,
              boxShadow: 'var(--shadow-md)',
              duration: 0.2,
              ease: 'power2.out'
            });
          }
        });
        
        option.addEventListener('mouseleave', function() {
          if (!this.classList.contains('active')) {
            gsap.to(this, {
              y: 0,
              boxShadow: 'var(--shadow-sm)',
              duration: 0.2,
              ease: 'power2.in'
            });
          }
        });
      });
    }
    
    // Inicializar tel√©fono internacional
    function initPhoneInput() {
      const phoneInput = document.getElementById('phone');
      if (!phoneInput) return;
      
      try {
        const iti = window.intlTelInput(phoneInput, {
          utilsScript: "https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/18.1.6/js/utils.js",
          preferredCountries: ['ve', 'co', 'es', 'us'],
          initialCountry: "auto",
          separateDialCode: true,
          geoIpLookup: function(callback) {
            fetch("https://ipapi.co/json")
              .then(res => res.json())
              .then(data => callback(data.country_code))
              .catch(() => callback("ve"));
          }
        });
        
        phoneInput.addEventListener('blur', function() {
          const formGroup = this.closest('.form-group');
          if (iti.isValidNumber()) {
            formGroup.classList.add('success');
            formGroup.classList.remove('error');
          } else {
            formGroup.classList.add('error');
            formGroup.classList.remove('success');
          }
        });
        
        return iti;
      } catch (error) {
        console.error("Error al inicializar el tel√©fono internacional:", error);
        // Fallback simple
        phoneInput.addEventListener('blur', function() {
          const formGroup = this.closest('.form-group');
          if (this.value.replace(/\D/g, '').length >= 6) {
            formGroup.classList.add('success');
            formGroup.classList.remove('error');
          } else {
            formGroup.classList.add('error');
            formGroup.classList.remove('success');
          }
        });
        return null;
      }
    }
    
    // Generar n√∫mero de referencia
    function generateRandomReference() {
      return 'VER' + Math.floor(10000 + Math.random() * 90000);
    }
    
    // Guardar datos
    function saveUserData() {
      try {
        userData = {
          personalInfo: {
            fullName: document.getElementById('full-name')?.value || '',
            idType: document.getElementById('id-type')?.value || '',
            idNumber: document.getElementById('id-number')?.value || '',
            birthDate: document.getElementById('birth-date')?.value || '',
            nationality: document.getElementById('nationality')?.value || '',
            phone: document.getElementById('phone')?.value || '',
            email: document.getElementById('email-confirm')?.value || '',
            address: document.getElementById('address')?.value || ''
          },
          bankInfo: {
            bank: document.querySelector('.bank-option.active')?.getAttribute('data-bank') || '',
            accountType: document.getElementById('account-type')?.value || '',
            accountNumber: document.getElementById('account-number')?.value || '',
            accountHolder: document.getElementById('account-holder')?.value || ''
          },
          verificationRef: generateRandomReference(),
          verificationDate: new Date().toISOString()
        };
        
        const depositReference = document.getElementById('deposit-reference');
        if (depositReference) {
          depositReference.textContent = userData.verificationRef;
        }
        
        try {
          localStorage.setItem('remeexVerificationData', JSON.stringify(userData));
        } catch (e) {
          console.error('Error al guardar datos en localStorage:', e);
        }
        
        return userData;
      } catch (error) {
        console.error('Error al guardar datos de usuario:', error);
        showToast('error', 'Error interno', 'No se pudieron procesar sus datos. Por favor, intente nuevamente.');
        return null;
      }
    }
    
    // Formatear n√∫mero de cuenta
    function formatAccountNumber(input) {
      const cursorPosition = input.selectionStart;
      const length = input.value.length;
      
      let value = input.value.replace(/\D/g, '');
      
      if (value.length > 4) {
        let formattedValue = value.substring(0, 4);
        
        if (value.length > 8) {
          formattedValue += '-' + value.substring(4, 8);
          
          if (value.length > 10) {
            formattedValue += '-' + value.substring(8, 10);
            
            if (value.length > 10) {
              formattedValue += '-' + value.substring(10);
            }
          } else {
            formattedValue += '-' + value.substring(8);
          }
        } else {
          formattedValue += '-' + value.substring(4);
        }
        
        input.value = formattedValue;
      } else {
        input.value = value;
      }
      
      const newLength = input.value.length;
      const addedHyphens = newLength - length;
      
      if (cursorPosition < input.value.length) {
        input.setSelectionRange(cursorPosition + addedHyphens, cursorPosition + addedHyphens);
      }
    }
    
    // Togglear FAQ items con animaciones
    function setupFaqItems() {
      const faqQuestions = document.querySelectorAll('.faq-question');
      faqQuestions.forEach(question => {
        question.addEventListener('click', function() {
          const answer = this.nextElementSibling;
          const isActive = this.classList.contains('active');
          
          // Cerrar otros abiertos
          const otherActiveQuestions = document.querySelectorAll('.faq-question.active');
          otherActiveQuestions.forEach(activeQ => {
            if (activeQ !== this) {
              activeQ.classList.remove('active');
              const activeAnswer = activeQ.nextElementSibling;
              activeAnswer.classList.remove('active');
            }
          });
          
          // Toggle actual
          this.classList.toggle('active');
          
          if (!isActive) {
            answer.classList.add('active');
            gsap.fromTo(answer,
              { opacity: 0, height: 0 },
              { opacity: 1, height: 'auto', duration: 0.3, ease: 'power2.out' }
            );
          } else {
            gsap.to(answer, {
              opacity: 0,
              height: 0,
              duration: 0.3,
              ease: 'power2.in',
              onComplete: () => {
                answer.classList.remove('active');
              }
            });
          }
        });
        
        // Hover efecto
        question.addEventListener('mouseenter', function() {
          if (!this.classList.contains('active')) {
            gsap.to(this, {
              backgroundColor: 'var(--primary-ultralight)',
              duration: 0.2
            });
          }
        });
        
        question.addEventListener('mouseleave', function() {
          if (!this.classList.contains('active')) {
            gsap.to(this, {
              backgroundColor: 'var(--neutral-50)',
              duration: 0.2
            });
          }
        });
      });
    }
    
    // Mostrar explosi√≥n de confeti
    function showConfetti() {
      try {
        const duration = 3 * 1000;
        const animationEnd = Date.now() + duration;
        const defaults = { startVelocity: 30, spread: 360, ticks: 60, zIndex: 10000 };
        
        function randomInRange(min, max) {
          return Math.random() * (max - min) + min;
        }
        
        const interval = setInterval(function() {
          const timeLeft = animationEnd - Date.now();
          
          if (timeLeft <= 0) {
            return clearInterval(interval);
          }
          
          const particleCount = 50 * (timeLeft / duration);
          
          // Confeti desde los lados
          confetti({
            ...defaults,
            particleCount,
            origin: { x: randomInRange(0.1, 0.3), y: Math.random() - 0.2 }
          });
          
          confetti({
            ...defaults,
            particleCount,
            origin: { x: randomInRange(0.7, 0.9), y: Math.random() - 0.2 }
          });
        }, 250);
      } catch (error) {
        console.error("Error al mostrar confeti:", error);
        // Fallback animation
        const container = document.getElementById('confetti-wrapper');
        if (container) {
          for (let i = 0; i < 50; i++) {
            const confetti = document.createElement('div');
            confetti.style.width = '10px';
            confetti.style.height = '10px';
            confetti.style.background = `hsl(${Math.random() * 360}, 100%, 50%)`;
            confetti.style.borderRadius = '50%';
            confetti.style.position = 'absolute';
            confetti.style.top = '-10px';
            confetti.style.left = `${Math.random() * 100}%`;
            container.appendChild(confetti);
            
            gsap.to(confetti, {
              y: window.innerHeight,
              x: (Math.random() - 0.5) * 200,
              rotation: Math.random() * 360,
              duration: 1 + Math.random() * 3,
              ease: 'power1.out',
              onComplete: () => {
                container.removeChild(confetti);
              }
            });
          }
        }
      }
    }
    
    // Event Listeners y funci√≥n principal
    document.addEventListener('DOMContentLoaded', function() {
      // Inicializar animaciones Lottie
      initLottieAnimations();
      
      // Inicializar FAQs
      setupFaqItems();
      
      // Login mejorado
      const loginButton = document.getElementById('login-button');
      const loginForm = document.getElementById('login-form');
      
      if (loginForm) {
        loginForm.addEventListener('submit', function(e) {
          e.preventDefault();
          if (loginButton) loginButton.click();
        });
      }
      
      if (loginButton) {
        loginButton.addEventListener('click', function() {
          const email = document.getElementById('login-email').value;
          const code = document.getElementById('login-code').value;
          
          const emailError = document.getElementById('email-error');
          const codeError = document.getElementById('code-error');
          
          let isValid = true;
          
          const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
          if (!email || !emailRegex.test(email)) {
            if (emailError) emailError.style.display = 'block';
            const emailGroup = document.getElementById('login-email').closest('.form-group');
            if (emailGroup) emailGroup.classList.add('error');
            animateErrorField(document.getElementById('login-email'));
            isValid = false;
          } else {
            if (emailError) emailError.style.display = 'none';
            const emailGroup = document.getElementById('login-email').closest('.form-group');
            if (emailGroup) emailGroup.classList.add('success');
          }
          
          if (!code || code.length < 4) {
            if (codeError) codeError.style.display = 'block';
            const codeGroup = document.getElementById('login-code').closest('.form-group');
            if (codeGroup) codeGroup.classList.add('error');
            animateErrorField(document.getElementById('login-code'));
            isValid = false;
          } else {
            if (codeError) codeError.style.display = 'none';
            const codeGroup = document.getElementById('login-code').closest('.form-group');
            if (codeGroup) codeGroup.classList.add('success');
          }
          
          if (isValid) {
            showLoading('Verificando credenciales...', 'Estamos validando su identidad. Por favor espere.');
            
            animateProgress(0, 100, 1500, 
              (progress) => {
                if (progress < 30) {
                  showLoading('Verificando credenciales...', 'Estamos validando su identidad. Por favor espere.', progress);
                } else if (progress < 70) {
                  showLoading('Cargando informaci√≥n...', 'Preparando sus datos personales.', progress);
                } else {
                  showLoading('Inicializando verificaci√≥n...', 'Estamos casi listos.', progress);
                }
              },
              () => {
                hideLoading();
                
                const emailConfirm = document.getElementById('email-confirm');
                if (emailConfirm && email) {
                  emailConfirm.value = email;
                  
                  const formGroup = emailConfirm.closest('.form-group');
                  if (formGroup) {
                    formGroup.classList.add('success');
                  }
                }
                
                // Ocultar login container y mostrar verificaci√≥n
                gsap.to('#login-container', {
                  opacity: 0,
                  y: -20,
                  duration: 0.3,
                  ease: 'power2.in',
                  onComplete: () => {
                    document.getElementById('login-container').style.display = 'none';
                    document.getElementById('verification-container').style.display = 'block';
                    
                    gsap.fromTo('#verification-container',
                      { opacity: 0, y: 20 },
                      { opacity: 1, y: 0, duration: 0.4, ease: 'power2.out' }
                    );
                    
                    showToast('success', 'Inicio exitoso', 'Bienvenido al proceso de verificaci√≥n de REMEEX');
                  }
                });
              }
            );
          }
        });
      }
      
      // Inicializar tel√©fono internacional
      initPhoneInput();
      
      // Paso 1 -> 2
      const step1Next = document.getElementById('step1-next');
      if (step1Next) {
        step1Next.addEventListener('click', function() {
          if (validateStep(1)) {
            goToStep(2);
            setupDocumentUploads();
          } else {
            showToast('error', 'Campos incompletos', 'Por favor, complete todos los campos obligatorios correctamente');
            
            const firstErrorField = document.querySelector('#step1 .form-group.error input, #step1 .form-group.error select, #step1 .form-group.error textarea');
            if (firstErrorField) {
              firstErrorField.focus();
              
              // Scroll al elemento con error
              firstErrorField.scrollIntoView({ behavior: 'smooth', block: 'center' });
            }
          }
        });
      }
      
      // Paso 2 -> 1
      const step2Back = document.getElementById('step2-back');
      if (step2Back) {
        step2Back.addEventListener('click', function() {
          goToStep(1);
        });
      }
      
      // Paso 2 -> 3
      const step2Next = document.getElementById('step2-next');
      if (step2Next) {
        step2Next.addEventListener('click', function() {
          if (validateStep(2)) {
            goToStep(3);
            initializeWebcam();
          } else {
            showToast('error', 'Documentos requeridos', 'Por favor, suba las im√°genes de su documento de identidad');
          }
        });
      }
      
      // Paso 3 -> 2
      const step3Back = document.getElementById('step3-back');
      if (step3Back) {
        step3Back.addEventListener('click', function() {
          if (webcam) {
            webcam.stop();
          }
          goToStep(2);
        });
      }
      
      // Paso 3 -> 4
      const step3Next = document.getElementById('step3-next');
      if (step3Next) {
        step3Next.addEventListener('click', function() {
          if (validateStep(3)) {
            goToStep(4);
            setupBankSelection();
          } else {
            showToast('error', 'Verificaci√≥n biom√©trica incompleta', 'Por favor, complete la selfie');
          }
        });
      }
      
      // Paso 4 -> 3
      const step4Back = document.getElementById('step4-back');
      if (step4Back) {
        step4Back.addEventListener('click', function() {
          goToStep(3);
          initializeWebcam();
        });
      }
      
      // Completar verificaci√≥n
      const completeVerification = document.getElementById('complete-verification');
      if (completeVerification) {
        completeVerification.addEventListener('click', function() {
          if (validateStep(4)) {
            const savedData = saveUserData();
            
            if (!savedData) {
              showToast('error', 'Error al guardar', 'No se pudieron procesar sus datos. Por favor, intente nuevamente.');
              return;
            }
            
            showLoading('Procesando su verificaci√≥n...');
            
            animateProgress(0, 100, 3000, 
              (progress) => {
                if (progress < 20) {
                  showLoading('Validando datos personales...', 'Verificando la informaci√≥n proporcionada.', progress);
                } else if (progress < 40) {
                  showLoading('Analizando documentos...', 'Realizando verificaci√≥n OCR y de autenticidad.', progress);
                } else if (progress < 60) {
                  showLoading('Procesando biometr√≠a...', 'Comparando su selfie con el documento de identidad.', progress);
                } else if (progress < 80) {
                  showLoading('Validando informaci√≥n bancaria...', 'Verificando su cuenta bancaria.', progress);
                } else {
                  showLoading('Finalizando verificaci√≥n...', 'Preparando su cuenta REMEEX.', progress);
                }
              },
              () => {
                hideLoading();
                
                window.scrollTo({ top: 0, behavior: 'smooth' });
                
                // Ocultar pasos de verificaci√≥n
                gsap.to('.verification-steps-container', {
                  opacity: 0,
                  y: -20,
                  duration: 0.3,
                  ease: 'power2.in',
                  onComplete: () => {
                    const steps = document.querySelector('.verification-steps-container');
                    if (steps) steps.style.display = 'none';
                    
                    const stepper = document.querySelector('.stepper-container');
                    if (stepper) stepper.style.display = 'none';
                    
                    const verification = document.getElementById('verification-complete');
                    if (verification) {
                      verification.style.display = 'block';
                      
                      gsap.fromTo('#verification-complete',
                        { opacity: 0, y: 20 },
                        { 
                          opacity: 1, 
                          y: 0, 
                          duration: 0.4,
                          ease: 'power2.out',
                          onComplete: () => {
                            // Mostrar confeti
                            showConfetti();
                          }
                        }
                      );
                    }
                  }
                });
              }
            );
          } else {
            showToast('error', 'Informaci√≥n bancaria incompleta', 'Por favor, complete todos los campos requeridos');
            
            const firstErrorField = document.querySelector('#step4 .form-group.error input, #step4 .form-group.error select');
            if (firstErrorField) {
              firstErrorField.focus();
              
              // Scroll al elemento con error
              firstErrorField.scrollIntoView({ behavior: 'smooth', block: 'center' });
            }
          }
        });
      }
      
      // Header scroll effect
      window.addEventListener('scroll', function() {
        const header = document.querySelector('.header');
        if (header) {
          if (window.scrollY > 20) {
            header.style.boxShadow = 'var(--shadow-lg)';
            gsap.to(header, { backgroundColor: 'rgba(255,255,255,0.9)', duration: 0.3 });
          } else {
            header.style.boxShadow = 'var(--shadow-card)';
            gsap.to(header, { backgroundColor: 'var(--secondary)', duration: 0.3 });
          }
        }
      });
      
      // Bot√≥n de ayuda
      const helpBtn = document.getElementById('help-btn');
      if (helpBtn) {
        helpBtn.addEventListener('click', function() {
          showToast('info', 'Centro de Ayuda', 'Para cualquier asistencia, contacte a nuestro soporte a trav√©s de WhatsApp o correo electr√≥nico.', 6000);
        });
      }
      
      // Bot√≥n de idioma
      const languageBtn = document.getElementById('language-btn');
      if (languageBtn) {
        languageBtn.addEventListener('click', function() {
          showToast('info', 'Idioma', 'Actualmente solo disponible en espa√±ol. M√°s idiomas pr√≥ximamente.');
        });
      }
      
      // Formateo autom√°tico de n√∫mero de cuenta
      const accountNumberInput = document.getElementById('account-number');
      if (accountNumberInput) {
        accountNumberInput.addEventListener('input', function() {
          formatAccountNumber(this);
        });
      }
      
      // Validaciones en tiempo real
      const formInputs = document.querySelectorAll('.form-control');
      formInputs.forEach(input => {
        input.addEventListener('blur', function() {
          const formGroup = this.closest('.form-group');
          if (!formGroup) return;
          
          formGroup.classList.remove('success', 'error');
          
          if (this.value.trim() === '' && this.hasAttribute('required')) {
            formGroup.classList.add('error');
            return;
          }
          
          if (this.value.trim() !== '') {
            switch(this.id) {
              case 'email-confirm':
              case 'login-email':
                const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
                formGroup.classList.add(emailRegex.test(this.value) ? 'success' : 'error');
                break;
                
              case 'phone':
                formGroup.classList.add(this.value.replace(/\D/g, '').length >= 7 ? 'success' : 'error');
                break;
                
              case 'full-name':
              case 'account-holder':
                formGroup.classList.add(this.value.trim().split(/\s+/).length >= 2 ? 'success' : 'error');
                break;
                
              case 'address':
                formGroup.classList.add(this.value.length >= 10 ? 'success' : 'error');
                break;
                
              case 'account-number':
                formGroup.classList.add(this.value.replace(/\D/g, '').length >= 16 ? 'success' : 'error');
                break;
                
              default:
                formGroup.classList.add('success');
            }
          }
        });
        
        // Efectos de focus
        input.addEventListener('focus', function() {
          gsap.to(this, {
            scale: 1.01,
            duration: 0.2,
            ease: 'power2.out'
          });
        });
        
        input.addEventListener('blur', function() {
          gsap.to(this, {
            scale: 1,
            duration: 0.2,
            ease: 'power2.in'
          });
        });
      });
      
      // Efectos para elementos seleccionables
      const selectables = document.querySelectorAll('select, input[type="checkbox"]');
      selectables.forEach(selectable => {
        selectable.addEventListener('focus', function() {
          gsap.to(this, {
            scale: 1.01,
            duration: 0.2,
            ease: 'power2.out'
          });
        });
        
        selectable.addEventListener('blur', function() {
          gsap.to(this, {
            scale: 1,
            duration: 0.2,
            ease: 'power2.in'
          });
        });
      });
      
      // Validaci√≥n de checkboxes
      const checkboxes = document.querySelectorAll('input[type="checkbox"]');
      checkboxes.forEach(checkbox => {
        checkbox.addEventListener('change', function() {
          const errorMessage = document.getElementById(`${this.id}-error`);
          if (errorMessage) {
            if (this.checked) {
              gsap.to(errorMessage, {
                opacity: 0,
                height: 0,
                margin: 0,
                duration: 0.3,
                ease: 'power2.in',
                onComplete: () => {
                  errorMessage.style.display = 'none';
                }
              });
            } else {
              errorMessage.style.display = 'block';
              gsap.fromTo(errorMessage,
                { opacity: 0, height: 0, margin: 0 },
                { opacity: 1, height: 'auto', margin: '8px 0 0', duration: 0.3, ease: 'power2.out' }
              );
            }
          }
        });
      });
      
      // Inicializar paneles de estado
      updateVerificationStatus();
      
      // Efecto de referencia de dep√≥sito para copiar
      const depositReference = document.getElementById('deposit-reference');
      if (depositReference) {
        depositReference.addEventListener('click', function() {
          // Crear elemento temporal para copiar
          const tempElement = document.createElement('textarea');
          tempElement.value = this.textContent;
          document.body.appendChild(tempElement);
          tempElement.select();
          document.execCommand('copy');
          document.body.removeChild(tempElement);
          
          // Efecto visual
          gsap.fromTo(this,
            { backgroundColor: 'var(--primary)', color: 'white' },
            { 
              backgroundColor: 'var(--success)',
              color: 'white',
              duration: 0.3,
              ease: 'power2.inOut',
              onComplete: () => {
                setTimeout(() => {
                  gsap.to(this, {
                    backgroundColor: 'var(--primary-ultralight)',
                    color: 'var(--primary)',
                    duration: 0.3,
                    ease: 'power2.inOut'
                  });
                }, 500);
              }
            }
          );
          
          showToast('success', 'C√≥digo copiado', 'Referencia copiada al portapapeles');
        });
      }
    });
  </script>
</body>
</html>
